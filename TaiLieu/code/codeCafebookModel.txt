Backend: C#.
Database: SQL Server Management Studio 21.
IDE: Visual Studio Insiders.
tÃªn projec: CafebookModel.
ná»n táº£ng: Class Library. Net Framework 8.0.
//////////////////////////
ğŸŒ³ Solution 'AppCafebookApi' (4 of 4 projects)
â”‚
â”œâ”€â”€ ğŸ™ GitHub Actions/
â”‚
â”œâ”€â”€ ğŸ”· AppCafebookApi/ (Dá»± Ã¡n WPF Desktop)
â”‚   â”œâ”€â”€ â¡ï¸ Dependencies/
â”‚   â”œâ”€â”€ ğŸ“‚ Assets/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ images/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ default-avatar.png
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ default-book-cover.png
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ default-food-icon.png
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ logo.ico
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ–¼ï¸ logo.png
â”‚   â”‚   â””â”€â”€ ğŸ“‚ Fonts/
â”‚   â”‚       â””â”€â”€ ğŸ…°ï¸ Font Awesome 6 Free-Solid-900.otf
â”‚   â”œâ”€â”€ ğŸ“‚ Services/
â”‚   â”‚   â”œâ”€â”€ C# AuthService.cs
â”‚   â”‚   â””â”€â”€ C# HinhAnhHelpers.cs
â”‚   â”œâ”€â”€ ğŸ“‚ View/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ Common/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ BaocaodoanhthuPreviewWindow.xaml
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ BaoCaoHieuSuatNhanVientPreview.xaml
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ BaoCaoTonKhoNguyenLieuPreviewWindo...
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ BapCaoTonKhoSachPreviewWindow.xaml
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ InputDialogWindow.xaml
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ PhieuLuongPreviewWindow.xaml
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ WelcomeWindow.xaml
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ nhanvien/
â”‚   â”‚   â”‚    â”œâ”€â”€ ğŸ“‚ pages/
â”‚   â”‚   â”‚    â”‚     â”œâ”€â”€ ğŸ“„ SoDoBanView.xaml
â”‚   â”‚   â”‚    â”‚     â””â”€â”€ ğŸ“„ GoiMonView.xaml
â”‚   â”‚   â”‚    â””â”€â”€ ğŸ“„ ManHinhNhanVien.xaml
â”‚   â”‚   â””â”€â”€ ğŸ“‚ quanly/
â”‚   â”‚       â”œâ”€â”€ ğŸ“‚ pages/
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ BaoCaoNhanSuView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ CaiDatNhanSuView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ PhanQuyenView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyBanView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyDonHangView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyDonViChuyenDoiView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyDonXinNghiView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyKiemKhoView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyKhachHangView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyKhuyenMaiView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyLichLamViecView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyLuongView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyNguyenLieuView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyNhaCungCapView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyNhanVienView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyNhapKhoView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyPhatLuongView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLySachView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLySanPhamView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyVaiTroView.xaml
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ QuanLyXuatHuyView.xaml
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ TongQuanView.xaml
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ ManHinhQuanly.xaml
â”‚   â”‚       â””â”€â”€ ğŸ“„ ManHinhDangNhap.xaml
â”‚   â”œâ”€â”€ âš™ï¸ App.xaml
â”‚   â””â”€â”€ ğŸ–¼ï¸ logo.ico
â”‚
â”œâ”€â”€ ğŸ”· CafebookApi/ (Dá»± Ã¡n ASP.NET Core API Backend)
â”‚   â”œâ”€â”€ â¡ï¸ Connected Services/
â”‚   â”œâ”€â”€ â¡ï¸ Dependencies/
â”‚   â”œâ”€â”€ ğŸ“‚ Properties/
â”‚   â”‚   â””â”€â”€ ğŸ“„ launchSettings.json
â”‚   â”œâ”€â”€ ğŸ“‚ wwwroot/
â”‚   â”‚   â””â”€â”€ ğŸ“‚ images/
â”‚   â”‚       â”œâ”€â”€ ğŸ“‚ avatars/
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“‚ avatarKH/
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“‚ avatarNV/
â”‚   â”‚       â”œâ”€â”€ ğŸ“‚ books/
â”‚   â”‚       â””â”€â”€ ğŸ“‚ foods/
â”‚   â”œâ”€â”€ ğŸ“‚ Controllers/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ App/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“‚ NhanVien/
â”‚   â”‚   â”‚   â”‚    â”œâ”€â”€ GoiMonController.cs
â”‚   â”‚   â”‚   â”‚    â”œâ”€â”€ GiaoHangController.cs
â”‚   â”‚   â”‚   â”‚    â”œâ”€â”€ SoDoBanController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# BanQuanLyController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# BaoCaoController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# BaoCaoHieuSuatController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# BaoCaoNhanSuController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# BaoCaoSachController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# BaoCaoTonKhoController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# CaiDatController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# CaiDatNhanSuController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# CalamViecController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# DashboardController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# DonHangController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# DonViChuyenDoiController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# DonXinNghiController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# KhachHangController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# KhoController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# KhuyenMaiController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# LichLamViecController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# LuongController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# NguyenLieuController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# NhaCungCapController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# NhanVienController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# PhanQuyenController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# PhatLuongController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# SachController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# SanPhamController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# SoDoBanController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# TaiKhoanController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# ThongBaoController.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ C# ThuongPhatController.cs
â”‚   â”‚   â”‚   â””â”€â”€ C# VaiTroController.cs
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ Shared/
â”‚   â”‚   â””â”€â”€ ğŸ“‚ Web/
â”‚   â”‚       â”œâ”€â”€ C# KhachHangTaiKhoanController.cs
â”‚   â”‚       â”œâ”€â”€ C# NhanVienTaiKhoanController.cs
â”‚   â”‚       â”œâ”€â”€ C# TrangChuController.cs
â”‚   â”‚       â””â”€â”€ C# WebQuanLyController.cs
â”‚   â”œâ”€â”€ ğŸ“‚ Data/
â”‚   â”‚   â””â”€â”€ C# CafebookDbContext.cs
â”‚   â”œâ”€â”€ ğŸ“‚ Services/
â”‚   â”œâ”€â”€ ğŸ“„ appsettings.json
â”‚   â””â”€â”€ C# Program.cs
â”‚
â”œâ”€â”€ ğŸ”· WebCafebookApi/ (Dá»± Ã¡n ASP.NET Core Web App - Razor Pages)
â”‚   â”œâ”€â”€ â¡ï¸ Connected Services/
â”‚   â”œâ”€â”€ â¡ï¸ Dependencies/
â”‚   â”œâ”€â”€ ğŸ“‚ Properties/
â”‚   â”‚   â””â”€â”€ ğŸ“„ launchSettings.json
â”‚   â”œâ”€â”€ ğŸ“‚ wwwroot/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ css/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ site.css
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ images/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ default-avatar.png
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ default-book-cover.png
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ default-food-icon.png
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ logo.ico
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ–¼ï¸ logo.png
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ js/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ profile.js
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ site.js
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ bootstrap/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ dist/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ css/
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ bootstrap.css
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ bootstrap-grid.css
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ bootstrap-reboot.css
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ bootstrap-utilities.css
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“‚ js/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“„ bootstrap.js
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ LICENSE
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ jquery/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ dist/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ jquery.js
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ LICENSE.txt
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ LICENSE
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ jquery-validation/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ dist/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ additional-methods.js
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ jquery.validate.js
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ LICENSE.md
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“‚ jquery-validation-unobtrusive/
â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ“‚ dist/
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ jquery.validate.unobtrusive.js
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“„ LICENSE.txt  <-- (ÄÃ£ cáº­p nháº­t tá»« áº£nh má»›i)
â”‚   â”‚   â””â”€â”€ ğŸ–¼ï¸ favicon.ico
â”‚   â”œâ”€â”€ ğŸ“‚ Data/
â”‚   â”œâ”€â”€ ğŸ“‚ Pages/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ Account/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ DangKyView.cshtml
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ DangNhapView.cshtml
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ DangXuat.cshtml
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ QuenMatKhauView.cshtml
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ employee/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ _Layout_Employee.cshtml
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ _ViewStart.cshtml
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ DangNhapEmployee.cshtml
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ DangXuat.cshtml
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ SoDoBanView.cshtml
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ WebQuanLyView.cshtml
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ Shared/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ _ViewImports.cshtml
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ _ViewStart.cshtml
â”‚   â”‚   â””â”€â”€ ğŸ“„ TrangChuView.cshtml
â”‚   â”œâ”€â”€ ğŸ“‚ Services/
â”‚   â”œâ”€â”€ ğŸ“„ appsettings.json
â”‚   â”œâ”€â”€ ğŸ“„ appsettings.Development.json
â”‚   â””â”€â”€ C# Program.cs
â”‚
â””â”€â”€ ğŸ”· CafebookModel/ (Dá»± Ã¡n Class Library - Shared Models)
    â”œâ”€â”€ â¡ï¸ Dependencies/
   ğŸ“‚ Model
    â”œâ”€â”€ ğŸ“‚ Data/
    â”‚   â””â”€â”€ C# NhanVienDto.cs
    â”œâ”€â”€ ğŸ“‚ ModelApi/
    â”‚   â”œâ”€â”€ C# LoginRequestModel.cs
    â”‚   â””â”€â”€ C# LoginResponseModel.cs
    â”œâ”€â”€ ğŸ“‚ ModelApp/
    â”‚   â”œâ”€â”€ C# BanQuanLyDto.cs
    â”‚   â”œâ”€â”€ C# BaoCaoDto.cs
    â”‚   â”œâ”€â”€ C# BaoCaoHieuSuatDto.cs
    â”‚   â”œâ”€â”€ C# BaoCaoSachDto.cs
    â”‚   â”œâ”€â”€ C# BaoCaoTonKhoDto.cs
    â”‚   â”œâ”€â”€ C# CaiDatDto.cs
    â”‚   â”œâ”€â”€ C# CaiDatThongTinCuaHangDto.cs
    â”‚   â”œâ”€â”€ C# ChartDataPoint.cs
    â”‚   â”œâ”€â”€ C# DashboardSummaryDto.cs
    â”‚   â”œâ”€â”€ C# DonHangDto.cs
    â”‚   â”œâ”€â”€ C# DonViChuyenDoiDto.cs
    â”‚   â”œâ”€â”€ C# DonXinNghiDto.cs
    â”‚   â”œâ”€â”€ C# KhachHangDto.cs
    â”‚   â”œâ”€â”€ C# KhoDto.cs
    â”‚   â”œâ”€â”€ C# KhuyenMaiDto.cs
    â”‚   â”œâ”€â”€ C# NhanSuDto.cs
    â”‚   â”œâ”€â”€ C# PhatLuongDto.cs
    â”‚   â”œâ”€â”€ C# SachDto.cs
    â”‚   â”œâ”€â”€ C# SanPhamDto.cs
    â”‚   â”œâ”€â”€ C# SoDoBanDto.cs
    â”‚   â””â”€â”€ C# ThongBaoDto.cs
    â”œâ”€â”€ ğŸ“‚ ModelWeb/
    â”‚   â”œâ”€â”€ C# DangKyRequestModel.cs
    â”‚   â”œâ”€â”€ C# KhachHangDto.cs
    â”‚   â”œâ”€â”€ C# TrangChuDto.cs
    â”‚   â”œâ”€â”€ C# WebLoginResponseModel.cs
    â”‚   â””â”€â”€ C# WebQuanLyDashboardModel.cs
    â”œâ”€â”€ Entities.cs
    â””â”€â”€ ğŸ“‚ Utils/
        â”œâ”€â”€ C# HinhAnhPaths.cs
        â””â”€â”€ C# SlugifyUtil.cs
//////////////////////////
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\Data\
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\Data\NhanVienDto.cs
using System.Collections.Generic;

namespace CafebookModel.Model.Data
{
    // Lá»›p nÃ y chá»©a thÃ´ng tin ngÆ°á»i dÃ¹ng sáº½ Ä‘Æ°á»£c lÆ°u trá»¯
    // trong WPF app sau khi Ä‘Äƒng nháº­p thÃ nh cÃ´ng.
    public class NhanVienDto
    {
        public int IdNhanVien { get; set; }
        public string? HoTen { get; set; }
        public string? TenVaiTro { get; set; }
        public string? AnhDaiDien { get; set; } 
        public List<string> DanhSachQuyen { get; set; } = new List<string>();
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApi\
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApi\LoginRequestModel.cs
namespace CafebookModel.Model.ModelApi
{
    public class LoginRequestModel
    {
        public string? TenDangNhap { get; set; }
        public string? MatKhau { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApi\LoginResponseModel.cs
using CafebookModel.Model.Data;

namespace CafebookModel.Model.ModelApi
{
    public class LoginResponseModel
    {
        public bool Success { get; set; }
        public string Message { get; set; } = string.Empty;
        public string? Token { get; set; }
        public NhanVienDto? UserData { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\NhanVien\
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\NhanVien\GoiMonDto.cs
using System;
using System.Collections.Generic;

namespace CafebookModel.Model.ModelApp.NhanVien
{
    // DTO chÃ­nh chá»©a toÃ n bá»™ dá»¯ liá»‡u cho trang GoiMonView
    public class GoiMonViewDto
    {
        public HoaDonInfoDto HoaDonInfo { get; set; } = default!;
        public List<ChiTietDto> ChiTietItems { get; set; } = default!;
        public List<SanPhamDto> SanPhams { get; set; } = default!;
        public List<DanhMucDto> DanhMucs { get; set; } = default!;
        public List<KhuyenMaiDto> KhuyenMais { get; set; } = default!;
    }

    // ThÃ´ng tin cÆ¡ báº£n cá»§a hÃ³a Ä‘Æ¡n (hiá»ƒn thá»‹ á»Ÿ panel bÃªn pháº£i)
    public class HoaDonInfoDto
    {
        public int IdHoaDon { get; set; }
        public string SoBan { get; set; } = default!;
        public string LoaiHoaDon { get; set; } = default!;
        public decimal TongTienGoc { get; set; }
        public decimal GiamGia { get; set; }
        public decimal ThanhTien { get; set; }
        public int? IdKhuyenMai { get; set; }
    }

    // DTO cho má»™t dÃ²ng trong DataGrid (ChiTietHoaDon)
    public class ChiTietDto
    {
        public int IdChiTietHoaDon { get; set; }
        public int IdSanPham { get; set; }
        public string TenSanPham { get; set; } = default!;
        public int SoLuong { get; set; }
        public decimal DonGia { get; set; }
        public decimal ThanhTien { get; set; }
    }

    // DTO cho má»™t tháº» Sáº£n Pháº©m
    public class SanPhamDto
    {
        public int IdSanPham { get; set; }
        public string TenSanPham { get; set; } = default!;
        public decimal DonGia { get; set; }
        public string HinhAnh { get; set; } = default!;
        public int IdDanhMuc { get; set; }
    }

    // DTO cho Danh Má»¥c (Sidebar trÃ¡i)
    public class DanhMucDto
    {
        public int IdDanhMuc { get; set; }
        public string TenLoaiSP { get; set; } = default!;
    }

    // DTO cho ComboBox Khuyáº¿n mÃ£i
    public class KhuyenMaiDto
    {
        public int IdKhuyenMai { get; set; }
        public string TenKhuyenMai { get; set; } = default!;
        public string LoaiGiamGia { get; set; } = default!;
        public decimal GiaTriGiam { get; set; }
    }

    // === CÃC DTO DÃ™NG Äá»‚ Gá»¬I YÃŠU Cáº¦U LÃŠN API ===

    public class AddItemRequest
    {
        public int IdHoaDon { get; set; }
        public int IdSanPham { get; set; }
        public int SoLuong { get; set; }
    }

    public class UpdateSoLuongRequest
    {
        public int IdChiTietHoaDon { get; set; }
        public int SoLuongMoi { get; set; }
    }

    public class ThanhToanRequest
    {
        public int IdHoaDon { get; set; }
        public int? IdKhuyenMai { get; set; }
        public string PhuongThucThanhToan { get; set; } = default!;
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\NhanVien\GiaoHangDto.cs
using System;

namespace CafebookModel.Model.ModelApp.NhanVien
{
    public class GiaoHangDto
    {
        public int IdHoaDon { get; set; }
        public string? TenKhachHang { get; set; }
        public string? SDTKhachHang { get; set; }
        public string? DiaChiGiaoHang { get; set; }
        public DateTime ThoiGianTao { get; set; }
        public string TrangThaiGiaoHang { get; set; } = string.Empty;
        public decimal ThanhTien { get; set; }
        public string GhiChu { get; set; } = string.Empty;
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\NhanVien\KhuyenMaiHienThiDto.cs
namespace CafebookModel.Model.ModelApp.NhanVien
{
    // DTO nÃ y Ä‘Æ°á»£c API sá»­ dá»¥ng Ä‘á»ƒ gá»­i vá» cá»­a sá»• ChonKhuyenMaiWindow
    public class KhuyenMaiHienThiDto
    {
        public int IdKhuyenMai { get; set; }
        public string MaKhuyenMai { get; set; } = string.Empty;
        public string TenChuongTrinh { get; set; } = string.Empty;
        public string? DieuKienApDung { get; set; } // Hiá»ƒn thá»‹ cho nhÃ¢n viÃªn
        public string LoaiGiamGia { get; set; } = string.Empty; // PhanTram, SoTien
        public decimal GiaTriGiam { get; set; }
        public decimal? GiamToiDa { get; set; }

        // === CÃ¡c trÆ°á»ng tÃ­nh toÃ¡n tá»« API ===
        public bool IsEligible { get; set; } // Äá»§ Ä‘iá»u kiá»‡n
        public string? IneligibilityReason { get; set; } // LÃ½ do khÃ´ng Ä‘á»§ Ä‘iá»u kiá»‡n

        // === THÃŠM DÃ’NG NÃ€Y Äá»‚ Sá»¬A Lá»–I BUILD ===
        public decimal CalculatedDiscount { get; set; } // GiÃ¡ trá»‹ giáº£m thá»±c táº¿ Ä‘á»ƒ sáº¯p xáº¿p
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\NhanVien\SoDoBanDto.cs
using System.Collections.Generic;

namespace CafebookModel.Model.ModelApp.NhanVien
{
    /// <summary>
    /// DTO Ä‘á»ƒ hiá»ƒn thá»‹ má»™t tháº» 'BÃ n' trÃªn sÆ¡ Ä‘á»“
    /// </summary>
    public class BanSoDoDto
    {
        public int IdBan { get; set; }
        public string SoBan { get; set; } = string.Empty;
        public string TrangThai { get; set; } = string.Empty;
        public string? GhiChu { get; set; }
        public decimal TongTienHienTai { get; set; }
        public int? IdHoaDonHienTai { get; set; }

        // --- ÄÃƒ THÃŠM ---
        public int? IdKhuVuc { get; set; }
    }

    /// <summary>
    /// DTO dÃ¹ng Ä‘á»ƒ bÃ¡o cÃ¡o sá»± cá»‘ (KhÃ³a bÃ n)
    /// </summary>
    public class BaoCaoSuCoRequestDto
    {
        public string GhiChuSuCo { get; set; } = string.Empty;
    }

    /// <summary>
    // DTO cho cÃ¡c thao tÃ¡c phá»©c táº¡p (Chuyá»ƒn/Gá»™p bÃ n)
    /// </summary>
    public class BanActionRequestDto
    {
        public int IdHoaDonNguon { get; set; } // HÃ³a Ä‘Æ¡n/BÃ n gá»‘c
        public int IdBanDich { get; set; }     // BÃ n chuyá»ƒn Ä‘áº¿n
        public int? IdHoaDonDich { get; set; } // HÃ³a Ä‘Æ¡n (náº¿u gá»™p)
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\NhanVien\ThanhToanDto.cs
using CafebookModel.Model.Entities;
using System.Collections.Generic;

namespace CafebookModel.Model.ModelApp.NhanVien
{
    // DTO cho má»™t dÃ²ng Phá»¥ Thu
    public class PhuThuDto
    {
        public int IdPhuThu { get; set; }
        public string TenPhuThu { get; set; } = string.Empty;
        public decimal SoTien { get; set; }
        public string LoaiGiaTri { get; set; } = "VND";
        public decimal GiaTri { get; set; }
    }

    // DTO cho ComboBox tÃ¬m kiáº¿m khÃ¡ch hÃ ng
    public class KhachHangTimKiemDto
    {
        public int IdKhachHang { get; set; }
        public string DisplayText { get; set; } = string.Empty;
        public KhachHang KhachHangData { get; set; } = null!;
    }

    /// <summary>
    /// DTO chá»©a dá»¯ liá»‡u cho cá»­a sá»• In HÃ³a ÄÆ¡n (Táº¡m tÃ­nh hoáº·c Cuá»‘i cÃ¹ng)
    /// </summary>
    public class HoaDonPreviewDto
    {
        // ThÃ´ng tin Cá»­a hÃ ng
        public string TenQuan { get; set; } = "CafeBook";
        public string DiaChi { get; set; } = "N/A";
        public string SoDienThoai { get; set; } = "N/A";
        public string WifiMatKhau { get; set; } = "N/A";

        // ThÃ´ng tin HÃ³a Ä‘Æ¡n
        public int IdHoaDon { get; set; }
        public string SoBan { get; set; } = "Mang vá»";
        public DateTime ThoiGianTao { get; set; }
        public string TenNhanVien { get; set; } = "NhÃ¢n viÃªn";
        public string TenKhachHang { get; set; } = "KhÃ¡ch vÃ£ng lai";
        public bool IsProvisional { get; set; } = true; // LÃ  hÃ³a Ä‘Æ¡n Táº¡m tÃ­nh?

        // Chi tiáº¿t
        public List<ChiTietDto> Items { get; set; } = new List<ChiTietDto>();
        public List<PhuThuDto> Surcharges { get; set; } = new List<PhuThuDto>();

        // Tá»•ng tiá»n
        public decimal TongTienGoc { get; set; }
        public decimal GiamGiaKM { get; set; }
        public decimal GiamGiaDiem { get; set; }
        public decimal TongPhuThu { get; set; }
        public decimal ThanhTien { get; set; }
    }

    /// <summary>
    /// DTO táº£i dá»¯ liá»‡u ban Ä‘áº§u cho trang ThanhToanView
    /// </summary>
    public class ThanhToanViewDto
    {
        public HoaDonInfoDto HoaDonInfo { get; set; } = null!;
        public List<ChiTietDto> ChiTietItems { get; set; } = new List<ChiTietDto>();

        // YÃŠU Cáº¦U Má»šI: Táº£i ID KM Ä‘Ã£ lÆ°u
        public int? IdKhuyenMaiDaApDung { get; set; }

        public List<PhuThuDto> PhuThusDaApDung { get; set; } = new List<PhuThuDto>();
        public List<PhuThu> PhuThusKhaDung { get; set; } = new List<PhuThu>();
        public KhachHang? KhachHang { get; set; } // KH máº·c Ä‘á»‹nh cá»§a HÄ

        // Sá»¬A Lá»–I CS1061: ThÃªm danh sÃ¡ch KH Ä‘á»ƒ tÃ¬m kiáº¿m
        public List<KhachHangTimKiemDto> KhachHangsList { get; set; } = new List<KhachHangTimKiemDto>();

        // Quy Ä‘á»‹nh Ä‘iá»ƒm
        public decimal DiemTichLuy_DoiVND { get; set; }
        public decimal DiemTichLuy_NhanVND { get; set; }

        // ThÃ´ng tin quÃ¡n
        public string TenQuan { get; set; } = string.Empty;
        public string DiaChi { get; set; } = string.Empty;
        public string SoDienThoai { get; set; } = string.Empty;
        public string WifiMatKhau { get; set; } = string.Empty;
    }

    /// <summary>
    /// DTO gá»­i lÃªn API Ä‘á»ƒ xÃ¡c nháº­n thanh toÃ¡n
    /// </summary>
    public class ThanhToanRequestDto
    {
        public int IdHoaDonGoc { get; set; }
        public List<int> IdChiTietTach { get; set; } = new List<int>();
        public List<int> IdPhuThuTach { get; set; } = new List<int>();
        public int? IdKhuyenMai { get; set; }
        public string PhuongThucThanhToan { get; set; } = string.Empty;
        public decimal KhachDua { get; set; }
        public int DiemSuDung { get; set; }
        public int? IdKhachHang { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\BanQuanLyDto.cs
using System;
using System.Collections.Generic;

namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO cho má»™t bÃ n (Node con)
    /// </summary>
    public class BanDto
    {
        public int IdBan { get; set; }
        public string SoBan { get; set; } = string.Empty;
        public int SoGhe { get; set; }
        public string TrangThai { get; set; } = string.Empty;
        public string? GhiChu { get; set; }
        public int IdKhuVuc { get; set; }
    }

    /// <summary>
    /// DTO cho má»™t khu vá»±c (Node cha), chá»©a danh sÃ¡ch cÃ¡c bÃ n
    /// </summary>
    public class KhuVucDto
    {
        public int IdKhuVuc { get; set; }
        public string TenKhuVuc { get; set; } = string.Empty;
        public string? MoTa { get; set; }
        public List<BanDto> Bans { get; set; } = new List<BanDto>();
    }

    /// <summary>
    /// DTO cho chá»©c nÄƒng "Xem Lá»‹ch sá»­" (Advanced Function 3)
    /// </summary>
    public class BanHistoryDto
    {
        public int SoLuotPhucVu { get; set; }
        public decimal TongDoanhThu { get; set; }
        public int SoLuotDatTruoc { get; set; }
    }

    /// <summary>
    /// DTO dÃ¹ng Ä‘á»ƒ gá»­i dá»¯ liá»‡u Cáº¬P NHáº¬T/THÃŠM Má»šI BÃ n
    /// </summary>
    public class BanUpdateRequestDto
    {
        public string SoBan { get; set; } = string.Empty;
        public int SoGhe { get; set; }
        public int IdKhuVuc { get; set; }
        public string TrangThai { get; set; } = string.Empty;
        public string? GhiChu { get; set; }
    }

    /// <summary>
    /// DTO dÃ¹ng Ä‘á»ƒ gá»­i dá»¯ liá»‡u Cáº¬P NHáº¬T/THÃŠM Má»šI Khu Vá»±c
    /// </summary>
    public class KhuVucUpdateRequestDto
    {
        public string TenKhuVuc { get; set; } = string.Empty;
        public string? MoTa { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\BaoCaoDto.cs
using System.Collections.Generic;

namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO Ä‘á»ƒ gá»­i yÃªu cáº§u (Tá»« ngÃ y/Äáº¿n ngÃ y) lÃªn API
    /// </summary>
    public class BaoCaoRequestDto
    {
        public DateTime StartDate { get; set; }
        public DateTime EndDate { get; set; }
    }

    /// <summary>
    /// DTO chá»©a toÃ n bá»™ káº¿t quáº£ bÃ¡o cÃ¡o
    /// </summary>
    public class BaoCaoTongHopDto
    {
        public BaoCaoKpiDto Kpi { get; set; } = new();
        public BaoCaoChiTietDoanhThuDto ChiTietDoanhThu { get; set; } = new();
        public BaoCaoChiPhiDto ChiTietChiPhi { get; set; } = new();
        public List<TopSanPhamDto> TopSanPham { get; set; } = new();
    }

    // -- CÃ¡c lá»›p con cho bÃ¡o cÃ¡o chi tiáº¿t --

    public class BaoCaoKpiDto
    {
        public decimal DoanhThuRong { get; set; }
        public decimal TongGiaVon { get; set; }
        public decimal LoiNhuanGop { get; set; }
        public decimal ChiPhiOpex { get; set; }
        public decimal LoiNhuanRong { get; set; }
    }

    // Káº¿t quáº£ cá»§a truy váº¥n 3.1
    public class BaoCaoChiTietDoanhThuDto
    {
        public decimal TongDoanhThuGoc { get; set; }
        public decimal TongGiamGia { get; set; }
        public decimal TongPhuThu { get; set; }
        public decimal DoanhThuRong { get; set; }
        public int SoLuongHoaDon { get; set; }
        public decimal GiaTriTrungBinhHD { get; set; }
    }

    // Káº¿t quáº£ cá»§a truy váº¥n 3.2b
    public class OpexDto
    {
        public decimal TongChiPhiLuong { get; set; }
        public decimal TongChiPhiHuyHang { get; set; }
    }

    // DTO cho Tab 2
    public class BaoCaoChiPhiDto
    {
        public decimal TongGiaVon_COGS { get; set; }
        public decimal TongChiPhiLuong { get; set; }
        public decimal TongChiPhiHuyHang { get; set; }
    }

    // Káº¿t quáº£ cá»§a truy váº¥n 3.3
    public class TopSanPhamDto
    {
        public string TenSanPham { get; set; } = string.Empty;
        public int TongSoLuongBan { get; set; }
        public decimal TongDoanhThu { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\BaoCaoHieuSuatDto.cs
using System;
using System.Collections.Generic;

namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO Ä‘á»ƒ gá»­i yÃªu cáº§u lá»c (filters) lÃªn API
    /// </summary>
    public class BaoCaoHieuSuatRequestDto
    {
        public DateTime StartDate { get; set; }
        public DateTime EndDate { get; set; }
        public int? VaiTroId { get; set; }
        public string? SearchText { get; set; }
    }

    /// <summary>
    /// DTO chá»©a toÃ n bá»™ káº¿t quáº£ bÃ¡o cÃ¡o
    /// </summary>
    public class BaoCaoHieuSuatTongHopDto
    {
        public BaoCaoHieuSuatKpiDto Kpi { get; set; } = new();
        public List<BaoCaoSalesDto> SalesPerformance { get; set; } = new();
        public List<BaoCaoOperationsDto> OperationalPerformance { get; set; } = new();
        public List<BaoCaoAttendanceDto> Attendance { get; set; } = new();
    }

    // -- CÃ¡c lá»›p con cho bÃ¡o cÃ¡o chi tiáº¿t --

    // DÃ¹ng cho KPI
    public class BaoCaoHieuSuatKpiDto
    {
        public decimal TongDoanhThu { get; set; }
        public decimal TongGioLam { get; set; } // Sá»¬A Tá»ª double -> decimal
        public int TongSoCaLam { get; set; }
        public int TongLanHuyMon { get; set; }
    }

    // DÃ¹ng cho Tab 1: Sales
    public class BaoCaoSalesDto
    {
        public string HoTen { get; set; } = string.Empty;
        public string TenVaiTro { get; set; } = string.Empty;
        public decimal TongDoanhThu { get; set; }
        public int SoHoaDon { get; set; }
        public decimal DoanhThuTrungBinh { get; set; }
        public int SoLanHuyMon { get; set; }
    }

    // DÃ¹ng cho Tab 2: Operations
    public class BaoCaoOperationsDto
    {
        public string HoTen { get; set; } = string.Empty;
        public string TenVaiTro { get; set; } = string.Empty;
        public int PhieuNhap { get; set; }
        public int PhieuKiem { get; set; }
        public int PhieuHuy { get; set; }
        public int DonDuyet { get; set; }
    }

    // DÃ¹ng cho Tab 3: Attendance
    public class BaoCaoAttendanceDto
    {
        public string HoTen { get; set; } = string.Empty;
        public int TongSoCaLam { get; set; }
        public decimal TongGioLam { get; set; } // Sá»¬A Tá»ª double -> decimal
        public int SoDonXinNghi { get; set; }
        public int SoDonDaDuyet { get; set; }
        public int SoDonChoDuyet { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\BaoCaoSachDto.cs
using System;
using System.Collections.Generic;

namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO Ä‘á»ƒ gá»­i yÃªu cáº§u lá»c (filters) lÃªn API
    /// </summary>
    public class BaoCaoSachRequestDto
    {
        public string? SearchText { get; set; }
        public int? TheLoaiId { get; set; }
        public int? TacGiaId { get; set; }
    }

    /// <summary>
    /// DTO chá»©a dá»¯ liá»‡u cho cÃ¡c ComboBox lá»c
    /// </summary>
    public class FilterLookupDto
    {
        public int Id { get; set; }
        public string Ten { get; set; } = string.Empty;
    }

    /// <summary>
    /// DTO chá»©a toÃ n bá»™ káº¿t quáº£ bÃ¡o cÃ¡o SÃ¡ch
    /// </summary>
    public class BaoCaoSachTongHopDto
    {
        public BaoCaoSachKpiDto Kpi { get; set; } = new();
        public List<BaoCaoSachChiTietDto> ChiTietTonKho { get; set; } = new();
        public List<BaoCaoSachTreHanDto> SachTreHan { get; set; } = new();
        public List<TopSachDuocThueDto> TopSachThue { get; set; } = new();
    }

    // -- CÃ¡c lá»›p con cho bÃ¡o cÃ¡o chi tiáº¿t --

    // DÃ¹ng cho KPI
    public class BaoCaoSachKpiDto
    {
        public int TongDauSach { get; set; }
        public int TongSoLuong { get; set; }
        public int DangChoThue { get; set; }
        public int SanSang { get; set; }
    }

    // DÃ¹ng cho Tab 1
    public class BaoCaoSachChiTietDto
    {
        public string TenSach { get; set; } = string.Empty;
        public string? TenTacGia { get; set; }
        public string? TenTheLoai { get; set; }
        public int SoLuongTong { get; set; }
        public int SoLuongDangMuon { get; set; }
        public int SoLuongConLai { get; set; }
    }

    // DÃ¹ng cho Tab 2
    public class BaoCaoSachTreHanDto
    {
        public string TenSach { get; set; } = string.Empty;
        public string HoTen { get; set; } = string.Empty;
        public string? SoDienThoai { get; set; }
        public DateTime NgayThue { get; set; }
        public DateTime NgayHenTra { get; set; }
        public string TinhTrang { get; set; } = string.Empty;
    }

    // DÃ¹ng cho Tab 3
    public class TopSachDuocThueDto
    {
        public string TenSach { get; set; } = string.Empty;
        public string? TenTacGia { get; set; }
        public int TongLuotThue { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\BaoCaoTonKhoDto.cs
using System;
using System.Collections.Generic;

namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO Ä‘á»ƒ gá»­i yÃªu cáº§u lá»c (filters) lÃªn API
    /// </summary>
    public class BaoCaoTonKhoRequestDto
    {
        public string? SearchText { get; set; }
        public int? NhaCungCapId { get; set; }
        public bool ShowLowStockOnly { get; set; }
    }

    /// <summary>
    /// DTO chá»©a toÃ n bá»™ káº¿t quáº£ bÃ¡o cÃ¡o Kho
    /// </summary>
    public class BaoCaoTonKhoTongHopDto
    {
        public BaoCaoTonKhoKpiDto Kpi { get; set; } = new();
        public List<BaoCaoTonKhoChiTietDto> ChiTietTonKho { get; set; } = new();
        public List<BaoCaoKiemKeDto> LichSuKiemKe { get; set; } = new();
        public List<BaoCaoHuyHangDto> LichSuHuyHang { get; set; } = new();
    }

    // -- CÃ¡c lá»›p con cho bÃ¡o cÃ¡o chi tiáº¿t --

    // DÃ¹ng cho KPI
    public class BaoCaoTonKhoKpiDto
    {
        public decimal TongGiaTriTonKho { get; set; }
        public int SoLuongSPSapHet { get; set; }
        public decimal TongGiaTriDaHuy { get; set; }
    }

    // DÃ¹ng cho Tab 1
    public class BaoCaoTonKhoChiTietDto
    {
        public string TenNguyenLieu { get; set; } = string.Empty;
        public string DonViTinh { get; set; } = string.Empty; 
        public decimal TonKho { get; set; }
        public decimal TonKhoToiThieu { get; set; }
        public string TinhTrang { get; set; } = string.Empty;
    }

    // DÃ¹ng cho Tab 2
    public class BaoCaoKiemKeDto
    {
        public DateTime NgayKiem { get; set; }
        public string TenNguyenLieu { get; set; } = string.Empty; 
        public decimal TonKhoHeThong { get; set; }
        public decimal TonKhoThucTe { get; set;}
        public decimal ChenhLech { get; set; }
        public string? LyDoChenhLech { get; set; }
    }

    // DÃ¹ng cho Tab 3
    public class BaoCaoHuyHangDto
    {
        public DateTime NgayHuy { get; set; }
        public string TenNguyenLieu { get; set; } = string.Empty; 
        public decimal SoLuongHuy { get; set; }
        public decimal GiaTriHuy { get; set; }
        public string LyDoHuy { get; set; } = string.Empty; 
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\CaiDatDto.cs
namespace CafebookModel.Model.ModelApp
{
    // DTO Ä‘á»ƒ truyá»n dá»¯ liá»‡u tá»« báº£ng CaiDat
    public class CaiDatDto
    {
        // KhÃ³a chÃ­nh
        public string TenCaiDat { get; set; } = string.Empty;

        // Dá»¯ liá»‡u cáº§n sá»­a
        public string GiaTri { get; set; } = string.Empty;

        // Chá»‰ Ä‘á»ƒ hiá»ƒn thá»‹
        public string? MoTa { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\CaiDatThongTinCuaHangDto.cs
namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO chá»©a thÃ´ng tin cÆ¡ báº£n cá»§a cá»­a hÃ ng tá»« báº£ng CaiDat
    /// </summary>
    public class CaiDatThongTinCuaHangDto
    {
        public string TenQuan { get; set; } = "Cafe SÃ¡ch";
        public string DiaChi { get; set; } = "N/A";
        public string SoDienThoai { get; set; } = "N/A";
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\ChartDataPoint.cs
using System;

namespace CafebookModel.Model.ModelApp
{
    public class ChartDataPoint
    {
        public DateTime Ngay { get; set; }
        public decimal TongTien { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\DashboardSummaryDto.cs
using System.Collections.Generic;

namespace CafebookModel.Model.ModelApp
{
    public class DashboardSummaryDto
    {
        public decimal TongDoanhThuHomNay { get; set; }
        public int TongDonHangHomNay { get; set; }
        public string SanPhamBanChayHomNay { get; set; } = "ChÆ°a cÃ³";
        public List<ChartDataPoint> DoanhThu30Ngay { get; set; } = new();
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\DonHangDto.cs
using System;
using System.Collections.Generic;

namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO cho DataGrid chÃ­nh (Danh sÃ¡ch ÄÆ¡n hÃ ng)
    /// </summary>
    public class DonHangDto
    {
        public int IdHoaDon { get; set; }
        public DateTime ThoiGianTao { get; set; }
        public string? TenNhanVien { get; set; }
        public string? TenKhachHang { get; set; } // ThÃªm
        public string? SoBan { get; set; }
        public decimal ThanhTien { get; set; }
        public string TrangThai { get; set; } = string.Empty;
        public string LoaiHoaDon { get; set; } = string.Empty; // ThÃªm
    }

    /// <summary>
    /// DTO cho DataGrid chi tiáº¿t
    /// </summary>
    public class DonHangChiTietDto
    {
        public string TenSanPham { get; set; } = string.Empty;
        public int SoLuong { get; set; }
        public decimal ThanhTien { get; set; }
    }

    /// <summary>
    /// DTO Ä‘á»ƒ láº¥y dá»¯ liá»‡u cho cÃ¡c ComboBox lá»c
    /// </summary>
    public class DonHangFiltersDto
    {
        // FilterLookupDto Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong SachDto.cs
        public List<FilterLookupDto> NhanViens { get; set; } = new();
        public List<FilterLookupDto> KhachHangs { get; set; } = new();
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\DonViChuyenDoiDto.cs
namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO cho DataGrid
    /// </summary>
    public class DonViChuyenDoiDtoo
    {
        public int IdChuyenDoi { get; set; }
        public int IdNguyenLieu { get; set; }
        public string TenNguyenLieu { get; set; } = string.Empty;
        public string TenDonVi { get; set; } = string.Empty;
        public decimal GiaTriQuyDoi { get; set; }
        public bool LaDonViCoBan { get; set; }
    }

    /// <summary>
    /// DTO Ä‘á»ƒ Gá»­i (ThÃªm/Sá»­a)
    /// </summary>
    public class DonViChuyenDoiUpdateRequestDto
    {
        public int IdNguyenLieu { get; set; }
        public string TenDonVi { get; set; } = string.Empty;
        public decimal GiaTriQuyDoi { get; set; }
        public bool LaDonViCoBan { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\KhachHangDto.cs
using Microsoft.AspNetCore.Http;
using System;
using System.Collections.Generic;
using System.Text.Json.Serialization;

namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO cho DataGrid KhÃ¡ch hÃ ng
    /// </summary>
    public class KhachHangDto
    {
        public int IdKhachHang { get; set; }
        public string HoTen { get; set; } = string.Empty;
        public string? SoDienThoai { get; set; }
        public string? Email { get; set; }
        public DateTime NgayTao { get; set; }
        public bool BiKhoa { get; set; }
        public string TrangThai => BiKhoa ? "Bá»‹ khÃ³a" : "Hoáº¡t Ä‘á»™ng";
    }

    /// <summary>
    /// DTO cho Form (gá»“m Lá»‹ch sá»­)
    /// </summary>
    public class KhachHangDetailDto
    {
        public int IdKhachHang { get; set; }
        public string HoTen { get; set; } = string.Empty;
        public string? SoDienThoai { get; set; }
        public string? Email { get; set; }
        public string? DiaChi { get; set; }
        public int DiemTichLuy { get; set; }
        public string? TenDangNhap { get; set; }
        public bool BiKhoa { get; set; }
        public string? AnhDaiDienUrl { get; set; } // <-- Sá»¬A: DÃ¹ng URL
        public List<LichSuDonHangDto> LichSuDonHang { get; set; } = new();
        public List<LichSuThueSachDto> LichSuThueSach { get; set; } = new();
    }

    /// <summary>
    /// DTO Ä‘á»ƒ Gá»­i (ThÃªm/Sá»­a)
    /// </summary>
    public class KhachHangUpdateRequestDto
    {
        public int IdKhachHang { get; set; }
        public string HoTen { get; set; } = string.Empty;
        public string? SoDienThoai { get; set; }
        public string? Email { get; set; }
        public string? DiaChi { get; set; }
        public int DiemTichLuy { get; set; }
        public string? TenDangNhap { get; set; }

        // Sá»¬A: XÃ³a Base64, thÃªm 2 dÃ²ng nÃ y
        [JsonIgnore]
        public IFormFile? AnhDaiDienUpload { get; set; }
        [JsonIgnore]
        public bool XoaAnhDaiDien { get; set; } = false;
    }

    // --- DTOs con cho Lá»‹ch sá»­ ---
    public class LichSuDonHangDto
    {
        public int IdHoaDon { get; set; }
        public DateTime ThoiGianTao { get; set; }
        public decimal ThanhTien { get; set; }
        public string TrangThai { get; set; } = string.Empty;
    }

    public class LichSuThueSachDto
    {
        public int IdPhieuThue { get; set; }
        public string TieuDeSach { get; set; } = string.Empty;
        public DateTime NgayThue { get; set; }
        public string TrangThai { get; set; } = string.Empty;
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\KhoDto.cs
using System;
using System.Collections.Generic;

namespace CafebookModel.Model.ModelApp
{
    // --- CÃC DTO ÄÃƒ CÃ“ ---
    #region DTOs (ÄÃ£ cÃ³)

    // DTO cho Tab 1: Tá»“n Kho
    public class NguyenLieuTonKhoDto
    {
        public int IdNguyenLieu { get; set; }
        public string TenNguyenLieu { get; set; } = string.Empty;
        public decimal TonKho { get; set; }
        public string DonViTinh { get; set; } = string.Empty;
        public decimal TonKhoToiThieu { get; set; }
        public string TinhTrang { get; set; } = string.Empty;
    }

    // DTO cho Tab 2: CRUD NguyÃªn Liá»‡u (ÄÃƒ Sá»¬A Lá»–I CS0117)
    public class NguyenLieuCrudDto
    {
        public int IdNguyenLieu { get; set; }
        public string TenNguyenLieu { get; set; } = string.Empty;
        public string DonViTinh { get; set; } = string.Empty;
        public decimal TonKhoToiThieu { get; set; }
        public decimal TonKho { get; set; } // <-- ThÃªm cá»™t nÃ y
    }

    // DTO Ä‘á»ƒ Gá»­i (ThÃªm/Sá»­a) NguyÃªn Liá»‡u
    public class NguyenLieuUpdateRequestDto
    {
        public string TenNguyenLieu { get; set; } = string.Empty;
        public string DonViTinh { get; set; } = string.Empty;
        public decimal TonKhoToiThieu { get; set; }
    }

    // DTO cho Tab 4: CRUD NhÃ  Cung Cáº¥p
    public class NhaCungCapDto
    {
        public int IdNhaCungCap { get; set; }
        public string TenNhaCungCap { get; set; } = string.Empty;
        public string? SoDienThoai { get; set; }
        public string? DiaChi { get; set; }
        public string? Email { get; set; }
    }

    // DTO cho Tab 3: DataGrid Phiáº¿u Nháº­p
    public class PhieuNhapDto
    {
        public int IdPhieuNhapKho { get; set; }
        public DateTime NgayNhap { get; set; }
        public string? TenNhaCungCap { get; set; }
        public string TenNhanVien { get; set; } = string.Empty;
        public decimal TongTien { get; set; }
        public string TrangThai { get; set; } = string.Empty;
    }

    // DTO cho Tab 3: DataGrid Chi Tiáº¿t Phiáº¿u Nháº­p
    public class ChiTietPhieuNhapDto
    {
        public int IdNguyenLieu { get; set; }
        public string? TenNguyenLieu { get; set; }
        public decimal SoLuongNhap { get; set; }
        public decimal DonGiaNhap { get; set; }
        public decimal ThanhTien { get; set; }
    }

    // DTO Ä‘á»ƒ Gá»­i (POST) má»™t Phiáº¿u Nháº­p Má»›i
    public class PhieuNhapCreateDto
    {
        public int IdNhanVien { get; set; }
        public int? IdNhaCungCap { get; set; }
        public DateTime NgayNhap { get; set; }
        public string? GhiChu { get; set; }
        public List<ChiTietPhieuNhapCreateDto> ChiTiet { get; set; } = new();
    }

    // DTO con cho Phiáº¿u Nháº­p Má»›i
    public class ChiTietPhieuNhapCreateDto
    {
        public int IdNguyenLieu { get; set; }
        public decimal SoLuongNhap { get; set; }
        public decimal DonGiaNhap { get; set; }
    }
    #endregion

    // --- THÃŠM CÃC DTO Má»šI CHO XUáº¤T Há»¦Y VÃ€ KIá»‚M KHO ---
    #region DTOs (Má»›i)

    // --- DTOs cho Chá»©c nÄƒng Xuáº¥t Há»§y ---

    public class PhieuXuatHuyDto
    {
        public int IdPhieuXuatHuy { get; set; }
        public DateTime NgayXuatHuy { get; set; }
        public string TenNhanVien { get; set; } = string.Empty;
        public string LyDoXuatHuy { get; set; } = string.Empty;
        public decimal TongGiaTriHuy { get; set; }
    }

    public class ChiTietPhieuXuatHuyDto
    {
        public int IdNguyenLieu { get; set; }
        public string? TenNguyenLieu { get; set; }
        public decimal SoLuong { get; set; }
        public decimal DonGiaVon { get; set; }
        public decimal ThanhTien { get; set; }
    }

    public class PhieuXuatHuyCreateDto
    {
        public int IdNhanVien { get; set; }
        public DateTime NgayXuatHuy { get; set; }
        public string LyDoXuatHuy { get; set; } = string.Empty;
        public List<ChiTietPhieuXuatHuyCreateDto> ChiTiet { get; set; } = new();
    }

    public class ChiTietPhieuXuatHuyCreateDto
    {
        public int IdNguyenLieu { get; set; }
        public decimal SoLuong { get; set; }
    }

    // --- DTOs cho Chá»©c nÄƒng Kiá»ƒm Kho ---

    public class PhieuKiemKhoDto
    {
        public int IdPhieuKiemKho { get; set; }
        public DateTime NgayKiem { get; set; }
        public string TenNhanVienKiem { get; set; } = string.Empty;
        public string TrangThai { get; set; } = string.Empty;
    }

    public class ChiTietKiemKhoDto
    {
        public int IdNguyenLieu { get; set; }
        public string TenNguyenLieu { get; set; } = string.Empty;
        public string DonViTinh { get; set; } = string.Empty;
        public decimal TonKhoHeThong { get; set; }
        public decimal TonKhoThucTe { get; set; }
        public decimal ChenhLech => TonKhoThucTe - TonKhoHeThong;
        public string? LyDoChenhLech { get; set; }
        public decimal GiaTriChenhLech { get; set; } // TÃ­nh toÃ¡n tá»« API
    }

    public class PhieuKiemKhoCreateDto
    {
        public int IdNhanVien { get; set; }
        public DateTime NgayKiem { get; set; }
        public string? GhiChu { get; set; }
        // DÃ¹ng láº¡i ChiTietKiemKhoDto vÃ¬ nÃ³ chá»©a Ä‘á»§ thÃ´ng tin
        public List<ChiTietKiemKhoDto> ChiTiet { get; set; } = new();
    }

    #endregion
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\KhuyenMaiDto.cs
using System;
using System.Collections.Generic;

namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO cho DataGrid Khuyáº¿n mÃ£i
    /// </summary>
    public class KhuyenMaiDto
    {
        public int IdKhuyenMai { get; set; }
        public string MaKhuyenMai { get; set; } = string.Empty; // <-- THÃŠM Má»šI
        public string TenKhuyenMai { get; set; } = string.Empty;
        public string GiaTriGiam { get; set; } = string.Empty;
        public decimal? GiamToiDa { get; set; }
        public string? DieuKienApDung { get; set; }
        public DateTime NgayBatDau { get; set; }
        public DateTime NgayKetThuc { get; set; }
        public string TrangThai { get; set; } = string.Empty;
    }

    /// <summary>
    /// DTO Ä‘á»ƒ táº£i chi tiáº¿t vÃ  cáº­p nháº­t Khuyáº¿n mÃ£i
    /// </summary>
    public class KhuyenMaiUpdateRequestDto
    {
        public int IdKhuyenMai { get; set; }
        public string MaKhuyenMai { get; set; } = string.Empty; // <-- THÃŠM Má»šI
        public string TenChuongTrinh { get; set; } = string.Empty;
        public string? MoTa { get; set; }
        public string LoaiGiamGia { get; set; } = string.Empty;
        public decimal GiaTriGiam { get; set; }
        public decimal? GiamToiDa { get; set; }
        public decimal? HoaDonToiThieu { get; set; }
        public int? IdSanPhamApDung { get; set; }
        public DateTime NgayBatDau { get; set; }
        public DateTime NgayKetThuc { get; set; }
        public string? NgayTrongTuan { get; set; }
        public string? GioBatDau { get; set; }
        public string? GioKetThuc { get; set; }
        public string? DieuKienApDung { get; set; }
        public string TrangThai { get; set; } = string.Empty;
    }

    /// <summary>
    /// DTO láº¥y cÃ¡c bá»™ lá»c cho Form Khuyáº¿n mÃ£i
    /// </summary>
    public class KhuyenMaiFiltersDto
    {
        public List<FilterLookupDto> SanPhams { get; set; } = new();
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\NhanSuDto.cs
// File: CafebookModel/Model/ModelApp/NhanSuDto.cs (Cáº­p nháº­t)

using Microsoft.AspNetCore.Http;
using System;
using System.Collections.Generic;
using System.Text.Json.Serialization;

namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO cho DataGrid chÃ­nh (Danh sÃ¡ch NhÃ¢n ViÃªn) - ÄÃƒ Äá»”I TÃŠN
    /// </summary>
    public class NhanVienGridDto
    {
        public int IdNhanVien { get; set; }
        public string HoTen { get; set; } = string.Empty;
        public string TenVaiTro { get; set; } = string.Empty;
        public decimal LuongCoBan { get; set; }
        public string TrangThaiLamViec { get; set; } = string.Empty;
    }

    /// <summary>
    /// Sá»¬A: DTO cho Form (GetDetails)
    /// </summary>
    public class NhanVienDetailDto
    {
        public int IdNhanVien { get; set; }
        public string HoTen { get; set; } = string.Empty;
        public string TenDangNhap { get; set; } = string.Empty;
        public int IdVaiTro { get; set; }
        public decimal LuongCoBan { get; set; }
        public string TrangThaiLamViec { get; set; } = string.Empty;
        public string? SoDienThoai { get; set; }
        public string? Email { get; set; }
        public string? DiaChi { get; set; }
        public DateTime NgayVaoLam { get; set; }
        public string? AnhDaiDienUrl { get; set; } // <-- Sá»¬A: DÃ¹ng URL
    }

    /// <summary>
    /// Sá»¬A: DTO cho Form (ThÃªm/Sá»­a)
    /// </summary>
    public class NhanVienUpdateRequestDto
    {
        public int IdNhanVien { get; set; }
        public string HoTen { get; set; } = string.Empty;
        public string TenDangNhap { get; set; } = string.Empty;
        public string? MatKhau { get; set; }
        public int IdVaiTro { get; set; }
        public decimal LuongCoBan { get; set; }
        public string TrangThaiLamViec { get; set; } = string.Empty;
        public string? SoDienThoai { get; set; }
        public string? Email { get; set; }
        public string? DiaChi { get; set; }
        public DateTime NgayVaoLam { get; set; }

        // Sá»¬A: XÃ³a Base64, thÃªm 2 dÃ²ng nÃ y
        [JsonIgnore]
        public IFormFile? AnhDaiDienUpload { get; set; }
        [JsonIgnore]
        public bool XoaAnhDaiDien { get; set; } = false;
    }

    /// <summary>
    /// DTO cho ComboBox lá»c - (Giá»¯ nguyÃªn)
    /// </summary>
    public class NhanSuFiltersDto
    {
        // DÃ¹ng FilterLookupDto (Ä‘Ã£ cÃ³)
        public List<FilterLookupDto> VaiTros { get; set; } = new();
    }

    /// <summary>
    /// DTO cho DataGrid Vai TrÃ² - (Giá»¯ nguyÃªn)
    /// </summary>
    public class VaiTroDto
    {
        public int IdVaiTro { get; set; }
        public string TenVaiTro { get; set; } = string.Empty;
        public string? MoTa { get; set; }
    }

    /// <summary>
    /// DTO cho má»™t Quyá»n, dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ trÃªn UI (ListView)
    /// </summary>
    public class QuyenDto
    {
        public string IdQuyen { get; set; } = string.Empty;
        public string TenQuyen { get; set; } = string.Empty;
        public string NhomQuyen { get; set; } = string.Empty;
    }

    /// <summary>
    /// DTO dÃ¹ng Ä‘á»ƒ gá»­i cáº¥u hÃ¬nh quyá»n má»›i lÃªn API
    /// </summary>
    public class PhanQuyenDto
    {
        public int IdVaiTro { get; set; }
        public List<string> DanhSachIdQuyen { get; set; } = new List<string>();
    }

    // === Báº®T Äáº¦U THÃŠM Má»šI CHO YÃŠU Cáº¦U #4 ===

    /// <summary>
    /// DTO cho Ca LÃ m Viá»‡c Máº«u (Báº£ng CaLamViec)
    /// </summary>
    public class CaLamViecDto
    {
        public int IdCa { get; set; }
        public string TenCa { get; set; } = string.Empty;

        // DÃ¹ng TimeSpan Ä‘á»ƒ API/WPF lÃ m viá»‡c, CSDL sáº½ lÆ°u kiá»ƒu TIME
        public TimeSpan GioBatDau { get; set; }
        public TimeSpan GioKetThuc { get; set; }
    }

    /// <summary>
    /// DTO dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ 1 má»¥c trong lá»‹ch lÃ m viá»‡c
    /// (Káº¿t há»£p tá»« LichLamViec vÃ  DonXinNghi)
    /// </summary>
    public class LichLamViecDisplayDto
    {
        public int IdLich { get; set; } // CÃ³ thá»ƒ lÃ  idLichLamViec hoáº·c idDonXinNghi
        public int IdNhanVien { get; set; }
        public string HoTenNhanVien { get; set; } = string.Empty;
        public DateTime Ngay { get; set; }

        // Loáº¡i lá»‹ch: "CaLam" hoáº·c "NghiPhep"
        public string LoaiLich { get; set; } = string.Empty;

        // ThÃ´ng tin náº¿u lÃ  CaLam
        public string? TenCa { get; set; }
        public TimeSpan? GioBatDau { get; set; }
        public TimeSpan? GioKetThuc { get; set; }

        // ThÃ´ng tin náº¿u lÃ  NghiPhep
        public string? LyDoNghi { get; set; }
    }

    /// <summary>
    /// DTO dÃ¹ng Ä‘á»ƒ gÃ¡n lá»‹ch lÃ m viá»‡c hÃ ng loáº¡t
    /// </summary>
    public class LichLamViecCreateDto
    {
        public DateTime NgayGanLich { get; set; }
        public int IdCa { get; set; }
        public List<int> DanhSachIdNhanVien { get; set; } = new List<int>();
    }

    /// <summary>
    /// DTO Ä‘Æ¡n giáº£n Ä‘á»ƒ chá»n nhÃ¢n viÃªn gÃ¡n lá»‹ch
    /// </summary>
    public class NhanVienLookupDto
    {
        public int IdNhanVien { get; set; }
        public string HoTen { get; set; } = string.Empty;
    }

    /// <summary>
    /// DTO cho káº¿t quáº£ tráº£ vá» cá»§a API GÃ¡n Lá»‹ch
    /// </summary>
    public class LichLamViecAssignResponseDto
    {
        public string Message { get; set; } = string.Empty;
        public List<string> Failures { get; set; } = new List<string>();
    }

    // === Báº®T Äáº¦U THÃŠM Má»šI CHO YÃŠU Cáº¦U #5 ===

    /// <summary>
    /// DTO Ä‘á»ƒ hiá»ƒn thá»‹ danh sÃ¡ch ÄÆ¡n Xin Nghá»‰ trÃªn DataGrid
    /// </summary>
    public class DonXinNghiDto
    {
        public int IdDonXinNghi { get; set; }
        public string TenNhanVien { get; set; } = string.Empty;
        public string LoaiDon { get; set; } = string.Empty;
        public DateTime NgayBatDau { get; set; }
        public DateTime NgayKetThuc { get; set; }
        public string LyDo { get; set; } = string.Empty;
        public string TrangThai { get; set; } = string.Empty;
        public string? TenNguoiDuyet { get; set; }
        public DateTime? NgayDuyet { get; set; }
        public string? GhiChuPheDuyet { get; set; }
    }

    /// <summary>
    /// DTO dÃ¹ng Ä‘á»ƒ ThÃªm má»›i má»™t Ä‘Æ¡n
    /// </summary>
    public class DonXinNghiCreateDto
    {
        // Quáº£n lÃ½ cÃ³ thá»ƒ táº¡o Ä‘Æ¡n cho nhÃ¢n viÃªn
        public int IdNhanVien { get; set; }
        public string LoaiDon { get; set; } = string.Empty;
        public string LyDo { get; set; } = string.Empty;
        public DateTime NgayBatDau { get; set; }
        public DateTime NgayKetThuc { get; set; }
    }

    /// <summary>
    /// DTO dÃ¹ng Ä‘á»ƒ Duyá»‡t/Tá»« chá»‘i má»™t Ä‘Æ¡n
    /// </summary>
    public class DonXinNghiActionDto
    {
        public int IdNguoiDuyet { get; set; }
        public string? GhiChuPheDuyet { get; set; }
    }

    // === Báº®T Äáº¦U THÃŠM Má»šI CHO YÃŠU Cáº¦U #6 ===

    /// <summary>
    /// DTO hiá»ƒn thá»‹ Báº£ng Cháº¥m CÃ´ng (Module 6.1)
    /// </summary>
    public class ChamCongDto
    {
        public int IdChamCong { get; set; }
        public int IdLichLamViec { get; set; }
        public string HoTenNhanVien { get; set; } = string.Empty;
        public string TenCa { get; set; } = string.Empty;
        public DateTime NgayLam { get; set; }
        public TimeSpan GioCaBatDau { get; set; }
        public TimeSpan GioCaKetThuc { get; set; }
        public DateTime? GioVao { get; set; }
        public DateTime? GioRa { get; set; }
        public decimal SoGioLam { get; set; } // <-- Sá»¬A: double -> decimal
        public string TrangThai { get; set; } = string.Empty; // "ÄÃºng giá»", "Äi trá»…", "Vá» sá»›m"
    }

    /// <summary>
    /// DTO cáº­p nháº­t Cháº¥m cÃ´ng thá»§ cÃ´ng (Module 6.1)
    /// </summary>
    public class ChamCongUpdateDto
    {
        public int IdChamCong { get; set; }
        public int IdLichLamViec { get; set; } // <-- THÃŠM DÃ’NG NÃ€Y
        public DateTime? GioVaoMoi { get; set; }
        public DateTime? GioRaMoi { get; set; }
    }

    /// <summary>
    /// DTO hiá»ƒn thá»‹ ThÆ°á»Ÿng/Pháº¡t thá»§ cÃ´ng (Module 6.2.3)
    /// </summary>
    public class PhieuThuongPhatDto
    {
        public int IdPhieuThuongPhat { get; set; }
        public int IdNhanVien { get; set; }
        public string HoTenNhanVien { get; set; } = string.Empty;
        public DateTime NgayTao { get; set; }
        public decimal SoTien { get; set; }
        public string LyDo { get; set; } = string.Empty;
        public string TenNguoiTao { get; set; } = string.Empty;
    }

    /// <summary>
    /// DTO táº¡o ThÆ°á»Ÿng/Pháº¡t thá»§ cÃ´ng (Module 6.2.3)
    /// </summary>
    public class PhieuThuongPhatCreateDto
    {
        public int IdNhanVien { get; set; }
        public int IdNguoiTao { get; set; }
        public decimal SoTien { get; set; }
        public string LyDo { get; set; } = string.Empty;
    }

    /// <summary>
    /// DTO Báº£ng kÃª lÆ°Æ¡ng (TrÆ°á»›c khi chá»‘t) (Module 6.3)
    /// </summary>
    public class LuongBangKeDto
    {
        public int IdNhanVien { get; set; }
        public string HoTenNhanVien { get; set; } = string.Empty;
        public decimal LuongCoBan { get; set; } // LÆ°Æ¡ng/giá»
        public decimal TongGioLam { get; set; }
        public decimal TienLuongGio { get; set; }
        public decimal TongThuong { get; set; } // Auto (OT) + Manual
        public decimal TongPhat { get; set; }  // Auto (Late) + Manual
        public decimal ThucLanh { get; set; }
        public string ChiTiet { get; set; } = string.Empty;
    }

    /// <summary>
    /// DTO Chá»‘t LÆ°Æ¡ng (Module 6.4)
    /// </summary>
    public class LuongFinalizeDto
    {
        public int Thang { get; set; }
        public int Nam { get; set; }
        public int IdNguoiChot { get; set; }
        // Gá»­i toÃ n bá»™ báº£ng kÃª lÃªn Ä‘á»ƒ lÆ°u
        public List<LuongBangKeDto> DanhSachBangKe { get; set; } = new List<LuongBangKeDto>();
    }

    /// <summary>
    /// DTO Ä‘á»ƒ Táº£i vÃ  LÆ°u toÃ n bá»™ CÃ i Äáº·t NhÃ¢n Sá»±
    /// </summary>
    public class CaiDatNhanSuDto
    {
        // Giá» lÃ m & OT
        public decimal GioLamChuan { get; set; }
        public decimal HeSoOT { get; set; }

        // Pháº¡t Ä‘i trá»…
        public int PhatDiTre_Phut { get; set; }
        public decimal PhatDiTre_HeSo { get; set; }

        // ThÆ°á»Ÿng chuyÃªn cáº§n
        public int ChuyenCan_SoNgay { get; set; }
        public decimal ChuyenCan_TienThuong { get; set; }

        // ChÃ­nh sÃ¡ch nghá»‰
        public int PhepNam_MacDinh { get; set; }
    }

    // === Báº®T Äáº¦U THÃŠM Má»šI CHO YÃŠU Cáº¦U #8 ===

    /// <summary>
    /// DTO Gá»­i yÃªu cáº§u lá»c BÃ¡o cÃ¡o
    /// </summary>
    public class BaoCaoNhanSuRequestDto
    {
        public DateTime StartDate { get; set; }
        public DateTime EndDate { get; set; }
        public int IdNhanVien { get; set; } // 0 = Táº¥t cáº£
        public int IdVaiTro { get; set; } // 0 = Táº¥t cáº£
        public string TrangThaiNhanVien { get; set; } = "Äang lÃ m viá»‡c"; // "Táº¥t cáº£", "Äang lÃ m viá»‡c", "Nghá»‰ viá»‡c"
    }

    /// <summary>
    /// DTO (Cha) chá»©a toÃ n bá»™ káº¿t quáº£ BÃ¡o cÃ¡o
    /// </summary>
    public class BaoCaoNhanSuDto
    {
        public BaoCaoNhanSu_KpiDto Kpi { get; set; } = new();
        public List<BaoCaoNhanSu_BangLuongDto> BangLuongChiTiet { get; set; } = new();
        public List<BaoCaoNhanSu_NghiPhepDto> ThongKeNghiPhep { get; set; } = new();
        public List<ChartDataPoint> LuongChartData { get; set; } = new(); // Táº­n dá»¥ng DTO tá»« Dashboard
    }

    /// <summary>
    /// DTO cho cÃ¡c tháº» KPI
    /// </summary>
    public class BaoCaoNhanSu_KpiDto
    {
        public int SoLuongNhanVien { get; set; }
        public decimal TongLuongDaTra { get; set; }
        public decimal TongGioLam { get; set; }
        public int TongSoNgayNghi { get; set; }
    }

    /// <summary>
    // DTO cho Tab 1: BÃ¡o cÃ¡o LÆ°Æ¡ng (Tá»•ng há»£p tá»« PhieuLuong)
    /// </summary>
    public class BaoCaoNhanSu_BangLuongDto
    {
        public int IdNhanVien { get; set; }
        public string HoTenNhanVien { get; set; } = string.Empty;
        public string TenVaiTro { get; set; } = string.Empty;
        public decimal TongGioLam { get; set; }
        public decimal TongLuongCoBan { get; set; }
        public decimal TongThuong { get; set; }
        public decimal TongPhat { get; set; }
        public decimal ThucLanh { get; set; }
    }

    /// <summary>
    // DTO cho Tab 2: BÃ¡o cÃ¡o Nghá»‰ PhÃ©p (Tá»•ng há»£p tá»« DonXinNghi)
    /// </summary>
    public class BaoCaoNhanSu_NghiPhepDto
    {
        public int IdNhanVien { get; set; }
        public string HoTenNhanVien { get; set; } = string.Empty;
        public string TenVaiTro { get; set; } = string.Empty;
        public int SoDonDaDuyet { get; set; }
        public int TongSoNgayNghi { get; set; }
    }

    /// <summary>
    /// DTO chá»©a cÃ¡c bá»™ lá»c cho BÃ¡o cÃ¡o
    /// </summary>
    public class BaoCaoNhanSu_FiltersDto
    {
        public List<NhanVienLookupDto> NhanViens { get; set; } = new();
        public List<FilterLookupDto> VaiTros { get; set; } = new();
    }

    // (ThÃªm vÃ o cuá»‘i file NhanSuDto.cs)

    /// <summary>
    /// DTO cho DataGrid á»Ÿ trang QuanLyPhatLuongView
    /// </summary>
    public class PhatLuongListItemDto
    {
        public int IdPhieuLuong { get; set; }
        public string HoTenNhanVien { get; set; } = string.Empty;
        public string KyLuong { get; set; } = string.Empty; // "ThÃ¡ng 11/2025"
        public decimal TongGioLam { get; set; }
        public decimal ThucLanh { get; set; }
        public DateTime NgayChot { get; set; }
        public string TrangThai { get; set; } = string.Empty; // "ÄÃ£ chá»‘t", "ÄÃ£ phÃ¡t"
    }

    /// <summary>
    /// DTO chi tiáº¿t cho Popup PhieuLuongPreviewWindow (A5)
    /// </summary>
    public class PhatLuongDetailDto
    {
        public int IdPhieuLuong { get; set; }
        public string HoTenNhanVien { get; set; } = string.Empty;
        public string KyLuong { get; set; } = string.Empty; // "ThÃ¡ng 11/2025"
        public DateTime NgayBatDauKy { get; set; }
        public DateTime NgayKetThucKy { get; set; }
        public decimal LuongCoBan { get; set; } // LÆ°Æ¡ng/giá»
        public decimal TongGioLam { get; set; }
        public decimal TienThuong { get; set; }
        public decimal KhauTru { get; set; }
        public decimal ThucLanh { get; set; }

        public string TrangThai { get; set; } = string.Empty;
        public DateTime NgayChot { get; set; }
        public DateTime? NgayPhat { get; set; }
        public string TenNguoiPhat { get; set; } = string.Empty; // TÃªn káº¿ toÃ¡n

        // ThÃ´ng tin cá»­a hÃ ng (táº£i tá»« CaiDat)
        public string TenQuan { get; set; } = "CAFEBOOK";
        public string DiaChi { get; set; } = string.Empty;
        public string SoDienThoai { get; set; } = string.Empty;
    }

    /// <summary>
    /// DTO gá»­i lÃªn khi xÃ¡c nháº­n phÃ¡t lÆ°Æ¡ng
    /// </summary>
    public class XacNhanPhatDto
    {
        public int IdNguoiPhat { get; set; } // ID cá»§a káº¿ toÃ¡n/ngÆ°á»i báº¥m nÃºt
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\PhatLuongDtos.cs
using System;

namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO hiá»ƒn thá»‹ danh sÃ¡ch phiáº¿u lÆ°Æ¡ng Ä‘Ã£ chá»‘t
    /// </summary>
    public class PhieuLuongDto
    {
        public int IdPhieuLuong { get; set; }
        public int IdNhanVien { get; set; }
        public string HoTenNhanVien { get; set; }
        public int Thang { get; set; }
        public int Nam { get; set; }
        public decimal TongGioLam { get; set; }
        public decimal ThucLanh { get; set; }
        public DateTime NgayChot { get; set; }
        public string TrangThai { get; set; } // "ÄÃ£ chá»‘t", "ÄÃ£ phÃ¡t"
    }

    /// <summary>
    /// DTO chi tiáº¿t phiáº¿u lÆ°Æ¡ng Ä‘á»ƒ in hoáº·c xem
    /// </summary>
    public class PhieuLuongChiTietDto
    {
        public int IdPhieuLuong { get; set; }
        public string HoTenNhanVien { get; set; }
        public int Thang { get; set; }
        public int Nam { get; set; }
        public decimal LuongCoBan { get; set; }
        public decimal TongGioLam { get; set; }
        public decimal TienThuong { get; set; }
        public decimal KhauTru { get; set; }
        public decimal ThucLanh { get; set; }
        public string TrangThai { get; set; }
        public DateTime? NgayPhat { get; set; }
        public string? TenNguoiPhat { get; set; }

        /* ThÃ´ng tin giáº£ láº­p cho Header (API chÆ°a cáº¥p)
        public string TenQuan { get; set; } = "CAFEBOOK";
        public string DiaChi { get; set; } = "123 ÄÆ°á»ng ABC, Quáº­n 1, TP. XYZ";
        public string SoDienThoai { get; set; } = "0909.123.456";
        */
        // Giáº£ láº­p ká»³ lÆ°Æ¡ng (API chÆ°a cáº¥p)
        public DateTime NgayBatDauKy => new DateTime(Nam, Thang, 1);
        public DateTime NgayKetThucKy => new DateTime(Nam, Thang, 1).AddMonths(1).AddDays(-1);
    }

    /// <summary>
    /// DTO gá»­i lÃªn khi xÃ¡c nháº­n phÃ¡t lÆ°Æ¡ng
    /// </summary>
    public class PhatLuongXacNhanDto
    {
        public int IdNguoiPhat { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\SachDto.cs
using System.Collections.Generic;
using System.Text.Json.Serialization;
using Microsoft.AspNetCore.Http; // <-- THÃŠM

namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ SÃ¡ch trÃªn DataGrid (ÄÃ£ sá»­a)
    /// </summary>
    public class SachDto
    {
        public int IdSach { get; set; }
        public string TenSach { get; set; } = string.Empty;
        public string? TenTacGia { get; set; }
        public string? TenTheLoai { get; set; }
        public string? ViTri { get; set; }
        public int SoLuongTong { get; set; }
        public int SoLuongHienCo { get; set; }
        public int SoLuongDangMuon => SoLuongTong - SoLuongHienCo;
        public string? AnhBiaUrl { get; set; } // <-- Sá»¬A: DÃ¹ng URL
    }

    /// <summary>
    /// DTO (Má»šI) cho Form Chi Tiáº¿t (Khi GetDetails)
    /// </summary>
    public class SachDetailDto
    {
        public int IdSach { get; set; }
        public string TenSach { get; set; } = string.Empty;
        public int? IdTheLoai { get; set; }
        public int? IdTacGia { get; set; }
        public int? IdNhaXuatBan { get; set; }
        public int? NamXuatBan { get; set; }
        public string? MoTa { get; set; }
        public int SoLuongTong { get; set; }
        public string? AnhBiaUrl { get; set; } // <-- Sá»¬A: DÃ¹ng URL
        public decimal? GiaBia { get; set; }
        public string? ViTri { get; set; }
    }

    /// <summary>
    /// DTO (Sá»¬A) chá»‰ dÃ¹ng Ä‘á»ƒ Táº£i LÃªn (Create/Update)
    /// </summary>
    public class SachUpdateRequestDto
    {
        public int IdSach { get; set; }
        public string TenSach { get; set; } = string.Empty;
        public int? IdTheLoai { get; set; }
        public int? IdTacGia { get; set; }
        public int? IdNhaXuatBan { get; set; }
        public int? NamXuatBan { get; set; }
        public string? MoTa { get; set; }
        public int SoLuongTong { get; set; }
        public decimal? GiaBia { get; set; }
        public string? ViTri { get; set; }

        // Sá»¬A: ThÃªm 2 thuá»™c tÃ­nh nÃ y Ä‘á»ƒ Swagger nháº­n diá»‡n
        // ChÃºng sáº½ bá»‹ bá» qua khi Ä‘á»c/ghi JSON, chá»‰ dÃ¹ng cho [FromForm]
        [JsonIgnore]
        public IFormFile? AnhBiaUpload { get; set; }
        [JsonIgnore]
        public bool XoaAnhBia { get; set; } = false;
    }

    // (CÃ¡c DTO cÃ²n láº¡i giá»¯ nguyÃªn)
    public class SachFiltersDto
    {
        public List<FilterLookupDto> TheLoais { get; set; } = new();
        public List<FilterLookupDto> TacGias { get; set; } = new();
        public List<FilterLookupDto> NhaXuatBans { get; set; } = new();
    }

    public class SachRentalsDto
    {
        public List<BaoCaoSachTreHanDto> SachQuaHan { get; set; } = new();
        public List<LichSuThueDto> LichSuThue { get; set; } = new();
    }

    public class LichSuThueDto
    {
        public string TenSach { get; set; } = string.Empty;
        public string TenKhachHang { get; set; } = string.Empty;
        public DateTime NgayThue { get; set; }
        public DateTime NgayHenTra { get; set; }
        public DateTime? NgayTraThucTe { get; set; }
        public decimal TienPhat { get; set; }
        public string TrangThai { get; set; } = string.Empty;
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\SanPhamDto.cs
using Microsoft.AspNetCore.Http;
using System.Collections.Generic;
using System.Text.Json.Serialization;

namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO cho DataGrid (TÃ¬m kiáº¿m)
    /// </summary>
    public class SanPhamDto
    {
        public int IdSanPham { get; set; }
        public string TenSanPham { get; set; } = string.Empty;
        public decimal GiaBan { get; set; }
        public string? TenDanhMuc { get; set; }
        public bool TrangThaiKinhDoanh { get; set; }
        public string? HinhAnhUrl { get; set; } // Sá»¬A: DÃ¹ng URL
    }

    /// <summary>
    /// DTO (Má»šI) cho Form Chi Tiáº¿t (Khi GetDetails)
    /// </summary>
    public class SanPhamDetailDto
    {
        public int IdSanPham { get; set; }
        public string TenSanPham { get; set; } = string.Empty;
        public int? IdDanhMuc { get; set; }
        public decimal GiaBan { get; set; }
        public string? MoTa { get; set; }
        public bool TrangThaiKinhDoanh { get; set; }
        public string? NhomIn { get; set; }
        public string? HinhAnhUrl { get; set; } // DÃ™NG Äá»‚ HIá»‚N THá»Š
    }

    /// <summary>
    /// DTO (Sá»¬A) chá»‰ dÃ¹ng Ä‘á»ƒ Táº£i LÃªn (Create/Update)
    /// </summary>
    public class SanPhamUpdateRequestDto
    {
        public int IdSanPham { get; set; } // Sáº½ = 0 náº¿u lÃ  Táº¡o má»›i
        public string TenSanPham { get; set; } = string.Empty;
        public int? IdDanhMuc { get; set; }
        public decimal GiaBan { get; set; }
        public string? MoTa { get; set; }
        public bool TrangThaiKinhDoanh { get; set; }
        public string? NhomIn { get; set; }

        // Sá»¬A: ThÃªm 2 thuá»™c tÃ­nh nÃ y Ä‘á»ƒ Swagger nháº­n diá»‡n
        [JsonIgnore]
        public IFormFile? HinhAnhUpload { get; set; }
        [JsonIgnore]
        public bool XoaHinhAnh { get; set; } = false;
    }

    // (CÃ¡c DTO cÃ²n láº¡i giá»¯ nguyÃªn)
    public class SanPhamFiltersDto
    {
        public List<FilterLookupDto> DanhMucs { get; set; } = new();
        public List<FilterLookupDto> NguyenLieus { get; set; } = new();
        public List<DonViChuyenDoiDto> DonViTinhs { get; set; } = new();
    }
    public class DonViChuyenDoiDto
    {
        public int Id { get; set; }
        public int IdNguyenLieu { get; set; }
        public string Ten { get; set; } = string.Empty;
    }
    public class DinhLuongDto
    {
        public int IdNguyenLieu { get; set; }
        public string TenNguyenLieu { get; set; } = string.Empty;
        public decimal SoLuong { get; set; }
        public int IdDonViSuDung { get; set; }
        public string TenDonViSuDung { get; set; } = string.Empty;
    }
    public class DinhLuongUpdateRequestDto
    {
        public int IdSanPham { get; set; }
        public int IdNguyenLieu { get; set; }
        public decimal SoLuong { get; set; }
        public int IdDonViSuDung { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\SoDoBanDto.cs
using System.Collections.Generic;

namespace CafebookModel.Model.ModelApp
{
    /// <summary>
    /// DTO Ä‘á»ƒ hiá»ƒn thá»‹ má»™t tháº» 'BÃ n' trÃªn sÆ¡ Ä‘á»“
    /// </summary>
    public class BanSoDoDto
    {
        public int IdBan { get; set; }
        public string SoBan { get; set; } = string.Empty;
        public string TrangThai { get; set; } = string.Empty; // Trá»‘ng, CÃ³ khÃ¡ch, ÄÃ£ Ä‘áº·t, Báº£o trÃ¬
        public string? GhiChu { get; set; }

        // Tá»•ng tiá»n cá»§a hÃ³a Ä‘Æ¡n 'ChÆ°a thanh toÃ¡n' (náº¿u cÃ³)
        public decimal TongTienHienTai { get; set; }

        // ID cá»§a hÃ³a Ä‘Æ¡n 'ChÆ°a thanh toÃ¡n' (náº¿u cÃ³)
        public int? IdHoaDonHienTai { get; set; }
    }

    /// <summary>
    /// DTO dÃ¹ng Ä‘á»ƒ bÃ¡o cÃ¡o sá»± cá»‘ (KhÃ³a bÃ n)
    /// </summary>
    public class BaoCaoSuCoRequestDto
    {
        public string GhiChuSuCo { get; set; } = string.Empty;
    }

    /// <summary>
    // DTO cho cÃ¡c thao tÃ¡c phá»©c táº¡p (Chuyá»ƒn/Gá»™p bÃ n)
    /// </summary>
    public class BanActionRequestDto
    {
        public int IdHoaDonNguon { get; set; } // HÃ³a Ä‘Æ¡n/BÃ n gá»‘c
        public int IdBanDich { get; set; }     // BÃ n chuyá»ƒn Ä‘áº¿n
        public int? IdHoaDonDich { get; set; } // HÃ³a Ä‘Æ¡n (náº¿u gá»™p)
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelApp\ThongBaoDto.cs
using System;

namespace CafebookModel.Model.ModelApp
{
    public class ThongBaoDto
    {
        public int IdThongBao { get; set; }
        public string NoiDung { get; set; } = string.Empty;
        public DateTime ThoiGianTao { get; set; }
        public string? LoaiThongBao { get; set; }
        public int? IdLienQuan { get; set; } // idBan
        public bool DaXem { get; set; }
        public string? TenNhanVienTao { get; set; }
    }

    public class ThongBaoCountDto
    {
        public int UnreadCount { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelWeb\
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelWeb\DangKyRequestModel.cs
namespace CafebookModel.Model.ModelWeb
{
    public class DangKyRequestModel
    {
        public string HoTen { get; set; } = string.Empty;
        public string SoDienThoai { get; set; } = string.Empty;
        public string Email { get; set; } = string.Empty;
        public string? TenDangNhap { get; set; }
        public string Password { get; set; } = string.Empty;
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelWeb\KhachHangDto.cs
namespace CafebookModel.Model.ModelWeb
{
    public class KhachHangDto
    {
        public int IdKhachHang { get; set; }
        public string HoTen { get; set; } = string.Empty; // <-- Sá»¬A Lá»–I CS8618
        public string? SoDienThoai { get; set; }
        public string? Email { get; set; }
        public string? TenDangNhap { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelWeb\TrangChuDto.cs
namespace CafebookModel.Model.ModelWeb
{
    // Lá»›p cha chá»©a táº¥t cáº£
    public class TrangChuDto
    {
        public ThongTinChungDto? Info { get; set; }
        public List<KhuyenMaiDto> Promotions { get; set; } = new();
        public List<SanPhamDto> MonNoiBat { get; set; } = new();
        public List<SachDto> SachNoiBat { get; set; } = new();
    }

    // Lá»›p cho Model.Info
    public class ThongTinChungDto
    {
        public string TenQuan { get; set; } = "Cafebook";
        public string? GioiThieu { get; set; }
        public string? BannerImageUrl { get; set; }
        public int SoBanTrong { get; set; }
        public int SoSachDangDuocThue { get; set; }
        public string? DiaChi { get; set; }
        public string? SoDienThoai { get; set; }
        public string? EmailLienHe { get; set; }
        public string? GioMoCua { get; set; }
    }

    // Lá»›p cho Model.Promotions
    public class KhuyenMaiDto
    {
        public string TenKhuyenMai { get; set; } = string.Empty;
        public string? MoTa { get; set; }
        public string? dieuKienApDung { get; set; }
    }

    // Lá»›p cho Model.MonNoiBat
    public class SanPhamDto
    {
        public string TenSanPham { get; set; } = string.Empty;
        public string? AnhSanPhamBase64 { get; set; }
        public decimal DonGia { get; set; }
    }

    // Lá»›p cho Model.SachNoiBat
    public class SachDto
    {
        public int IdSach { get; set; }
        public string TieuDe { get; set; } = string.Empty;
        public string? TacGia { get; set; }
        public string? AnhBia { get; set; } // Base64
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelWeb\WebLoginResponseModel.cs
using CafebookModel.Model.Data; // Cho NhanVienDto
using CafebookModel.Model.ModelWeb; // Cho KhachHangDto

namespace CafebookModel.Model.ModelApi
{
    public class WebLoginResponseModel
    {
        public bool Success { get; set; }
        public string Message { get; set; } = string.Empty;

        // DÃ¹ng má»™t trong hai
        public KhachHangDto? KhachHangData { get; set; }
        public NhanVienDto? NhanVienData { get; set; } // Táº­n dá»¥ng NhanVienDto tá»« WPF
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\ModelWeb\WebQuanLyDashboardDto.cs
namespace CafebookModel.Model.ModelWeb
{
    /// <summary>
    /// DTO chá»©a dá»¯ liá»‡u cho trang Dashboard cá»§a NhÃ¢n viÃªn trÃªn Web
    /// </summary>
    public class WebQuanLyDashboardDto
    {
        public string? HoTen { get; set; }
        public string? VaiTro { get; set; }
        public string? AnhDaiDien { get; set; } // Base64
        public string? CaHienTai { get; set; }
        public int TongBanDangPhucVu { get; set; }
        public int TongDonDangXuLy { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Model\Entities.cs
using System; // <-- ThÃªm
using System.Collections.Generic; // <-- ThÃªm
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace CafebookModel.Model.Entities
{
    [Table("KhuVuc")]
    public class KhuVuc
    {
        [Key]
        public int IdKhuVuc { get; set; }
        [Required]
        [StringLength(100)]
        public string TenKhuVuc { get; set; } = string.Empty;
        [StringLength(500)]
        public string? MoTa { get; set; }

        public virtual ICollection<Ban> Bans { get; set; } = new List<Ban>();
    }

    [Table("Ban")]
    public class Ban
    {
        [Key]
        public int IdBan { get; set; }
        [Required]
        [StringLength(50)]
        public string SoBan { get; set; } = string.Empty;
        public int SoGhe { get; set; }
        [Required]
        [StringLength(50)]
        public string TrangThai { get; set; } = string.Empty;
        [StringLength(500)]
        public string? GhiChu { get; set; }

        public int? IdKhuVuc { get; set; }
        [ForeignKey("IdKhuVuc")]
        public virtual KhuVuc? KhuVuc { get; set; }

        public virtual ICollection<HoaDon> HoaDons { get; set; } = new List<HoaDon>();
        public virtual ICollection<PhieuDatBan> PhieuDatBans { get; set; } = new List<PhieuDatBan>();
    }

    [Table("NguoiGiaoHang")]
    public class NguoiGiaoHang
    {
        [Key]
        public int IdNguoiGiaoHang { get; set; }
        [Required]
        [StringLength(100)]
        public string TenNguoiGiaoHang { get; set; } = string.Empty;
        [Required]
        [StringLength(20)]
        public string SoDienThoai { get; set; } = string.Empty;
        [StringLength(50)]
        public string? TrangThai { get; set; }

        public virtual ICollection<HoaDon> HoaDons { get; set; } = new List<HoaDon>();
    }

    [Table("HoaDon")]
    public class HoaDon
    {
        [Key]
        public int IdHoaDon { get; set; }
        public int? IdBan { get; set; }
        public int IdNhanVien { get; set; }
        public int? IdKhachHang { get; set; }
        public DateTime ThoiGianTao { get; set; }
        public DateTime? ThoiGianThanhToan { get; set; }
        [Required]
        [StringLength(50)]
        public string TrangThai { get; set; } = string.Empty;
        [Column(TypeName = "decimal(18, 2)")]
        public decimal TongTienGoc { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal GiamGia { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal TongPhuThu { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        [DatabaseGenerated(DatabaseGeneratedOption.Computed)]
        public decimal ThanhTien { get; set; }
        [StringLength(50)]
        public string? PhuongThucThanhToan { get; set; }
        public string? GhiChu { get; set; }
        [Required]
        [StringLength(50)]
        public string LoaiHoaDon { get; set; } = string.Empty;
        [StringLength(100)]
        public string? TrangThaiGiaoHang { get; set; }
        [StringLength(500)]
        public string? DiaChiGiaoHang { get; set; }
        [StringLength(20)]
        public string? SoDienThoaiGiaoHang { get; set; }
        public int? IdNguoiGiaoHang { get; set; }

        [ForeignKey("IdBan")]
        public virtual Ban? Ban { get; set; }
        [ForeignKey("IdNhanVien")]
        public virtual NhanVien NhanVien { get; set; } = null!;
        [ForeignKey("IdKhachHang")]
        public virtual KhachHang? KhachHang { get; set; }
        [ForeignKey("IdNguoiGiaoHang")]
        public virtual NguoiGiaoHang? NguoiGiaoHang { get; set; }

        public virtual ICollection<ChiTietHoaDon> ChiTietHoaDons { get; set; } = new List<ChiTietHoaDon>();
        public virtual ICollection<NhatKyHuyMon> NhatKyHuyMons { get; set; } = new List<NhatKyHuyMon>();
        public virtual ICollection<GiaoDichThanhToan> GiaoDichThanhToans { get; set; } = new List<GiaoDichThanhToan>();
        public virtual ICollection<ChiTietPhuThuHoaDon> ChiTietPhuThuHoaDons { get; set; } = new List<ChiTietPhuThuHoaDon>();
        public virtual ICollection<HoaDon_KhuyenMai> HoaDonKhuyenMais { get; set; } = new List<HoaDon_KhuyenMai>();
    }

    [Table("DanhMuc")]
    public class DanhMuc
    {
        [Key]
        public int IdDanhMuc { get; set; }
        [Required]
        [StringLength(255)]
        public string TenDanhMuc { get; set; } = string.Empty;
        public int? IdDanhMucCha { get; set; }

        [ForeignKey("IdDanhMucCha")]
        public virtual DanhMuc? DanhMucCha { get; set; }
        public virtual ICollection<DanhMuc> DanhMucCons { get; set; } = new List<DanhMuc>();
        public virtual ICollection<SanPham> SanPhams { get; set; } = new List<SanPham>();
    }

    [Table("SanPham")]
    public class SanPham
    {
        [Key]
        public int IdSanPham { get; set; }
        [Required]
        [StringLength(255)]
        public string TenSanPham { get; set; } = string.Empty;
        public int IdDanhMuc { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal GiaBan { get; set; }
        public string? MoTa { get; set; }
        public bool TrangThaiKinhDoanh { get; set; }
        public string? HinhAnh { get; set; } // Base64
        [StringLength(50)]
        public string? NhomIn { get; set; }

        [ForeignKey("IdDanhMuc")]
        public virtual DanhMuc DanhMuc { get; set; } = null!;

        public virtual ICollection<ChiTietHoaDon> ChiTietHoaDons { get; set; } = new List<ChiTietHoaDon>();
        public virtual ICollection<NhatKyHuyMon> NhatKyHuyMons { get; set; } = new List<NhatKyHuyMon>();
        public virtual ICollection<DinhLuong> DinhLuongs { get; set; } = new List<DinhLuong>();
        public virtual ICollection<DeXuatSanPham> DeXuatSanPhamGocs { get; set; } = new List<DeXuatSanPham>();
        public virtual ICollection<DeXuatSanPham> DeXuatSanPhamDeXuats { get; set; } = new List<DeXuatSanPham>();
    }

    [Table("ChiTietHoaDon")]
    public class ChiTietHoaDon
    {
        [Key]
        public int IdChiTietHoaDon { get; set; }
        public int IdHoaDon { get; set; }
        public int IdSanPham { get; set; }
        public int SoLuong { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal DonGia { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        [DatabaseGenerated(DatabaseGeneratedOption.Computed)]
        public decimal ThanhTien { get; set; }
        [StringLength(500)]
        public string? GhiChu { get; set; }

        [ForeignKey("IdHoaDon")]
        public virtual HoaDon HoaDon { get; set; } = null!;
        [ForeignKey("IdSanPham")]
        public virtual SanPham SanPham { get; set; } = null!;
    }

    [Table("PhuThu")]
    public class PhuThu
    {
        [Key]
        public int IdPhuThu { get; set; }
        [Required]
        [StringLength(100)]
        public string TenPhuThu { get; set; } = string.Empty;
        [Column(TypeName = "decimal(18, 2)")]
        public decimal GiaTri { get; set; }
        [Required]
        [StringLength(20)]
        public string LoaiGiaTri { get; set; } = string.Empty;

        public virtual ICollection<ChiTietPhuThuHoaDon> ChiTietPhuThuHoaDons { get; set; } = new List<ChiTietPhuThuHoaDon>();
    }

    [Table("ChiTietPhuThuHoaDon")]
    public class ChiTietPhuThuHoaDon
    {
        public int IdHoaDon { get; set; }
        public int IdPhuThu { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal SoTien { get; set; }

        [ForeignKey("IdHoaDon")]
        public virtual HoaDon HoaDon { get; set; } = null!;
        [ForeignKey("IdPhuThu")]
        public virtual PhuThu PhuThu { get; set; } = null!;
    }

    [Table("NhatKyHuyMon")]
    public class NhatKyHuyMon
    {
        [Key]
        public int IdNhatKy { get; set; }
        public int IdHoaDon { get; set; }
        public int IdSanPham { get; set; }
        public int SoLuongHuy { get; set; }
        [Required]
        [StringLength(255)]
        public string LyDo { get; set; } = string.Empty;
        public int IdNhanVienHuy { get; set; }
        public DateTime ThoiGianHuy { get; set; }

        [ForeignKey("IdHoaDon")]
        public virtual HoaDon HoaDon { get; set; } = null!;
        [ForeignKey("IdSanPham")]
        public virtual SanPham SanPham { get; set; } = null!;
        [ForeignKey("IdNhanVienHuy")]
        public virtual NhanVien NhanVienHuy { get; set; } = null!;
    }

    [Table("NguyenLieu")]
    public class NguyenLieu
    {
        [Key]
        public int IdNguyenLieu { get; set; }
        [Required]
        [StringLength(255)]
        public string TenNguyenLieu { get; set; } = string.Empty;
        [Required]
        [StringLength(50)]
        public string DonViTinh { get; set; } = string.Empty;
        [Column(TypeName = "decimal(18, 2)")]
        public decimal TonKho { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal TonKhoToiThieu { get; set; }

        public virtual ICollection<DinhLuong> DinhLuongs { get; set; } = new List<DinhLuong>();
        public virtual ICollection<ChiTietNhapKho> ChiTietNhapKhos { get; set; } = new List<ChiTietNhapKho>();
        public virtual ICollection<ChiTietKiemKho> ChiTietKiemKhos { get; set; } = new List<ChiTietKiemKho>();
        public virtual ICollection<ChiTietXuatHuy> ChiTietXuatHuys { get; set; } = new List<ChiTietXuatHuy>();
    }

    [Table("DinhLuong")]
    public class DinhLuong
    {
        public int IdSanPham { get; set; }
        public int IdNguyenLieu { get; set; }

        [Column(TypeName = "decimal(18, 2)")]
        public decimal SoLuongSuDung { get; set; } // <-- ÄÃƒ Äá»”I TÃŠN

        public int IdDonViSuDung { get; set; } // <-- THÃŠM Má»šI

        [ForeignKey("IdSanPham")]
        public virtual SanPham SanPham { get; set; } = null!;
        [ForeignKey("IdNguyenLieu")]
        public virtual NguyenLieu NguyenLieu { get; set; } = null!;

        [ForeignKey("IdDonViSuDung")] // <-- THÃŠM Má»šI
        public virtual DonViChuyenDoi DonViSuDung { get; set; } = null!;
    }

    [Table("DonViChuyenDoi")]
    public class DonViChuyenDoi
    {
        [Key]
        public int IdChuyenDoi { get; set; }

        public int IdNguyenLieu { get; set; }

        [Required]
        [StringLength(50)]
        public string TenDonVi { get; set; } = string.Empty;

        [Column(TypeName = "decimal(18, 6)")]
        public decimal GiaTriQuyDoi { get; set; }

        public bool LaDonViCoBan { get; set; }

        [ForeignKey("IdNguyenLieu")]
        public virtual NguyenLieu NguyenLieu { get; set; } = null!;
        public virtual ICollection<DinhLuong> DinhLuongs { get; set; } = new List<DinhLuong>();
    }

    [Table("NhaCungCap")]
    public class NhaCungCap
    {
        [Key]
        public int IdNhaCungCap { get; set; }
        [Required]
        [StringLength(255)]
        public string TenNhaCungCap { get; set; } = string.Empty;
        [StringLength(20)]
        public string? SoDienThoai { get; set; }
        [StringLength(500)]
        public string? DiaChi { get; set; }
        [StringLength(100)]
        public string? Email { get; set; }

        public virtual ICollection<PhieuNhapKho> PhieuNhapKhos { get; set; } = new List<PhieuNhapKho>();
    }

    [Table("PhieuNhapKho")]
    public class PhieuNhapKho
    {
        [Key]
        public int IdPhieuNhapKho { get; set; }
        public int? IdNhaCungCap { get; set; }
        public int IdNhanVien { get; set; }
        public DateTime NgayNhap { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal TongTien { get; set; }
        [StringLength(500)]
        public string? GhiChu { get; set; }
        [Required]
        [StringLength(50)]
        public string TrangThai { get; set; } = string.Empty;

        [ForeignKey("IdNhaCungCap")]
        public virtual NhaCungCap? NhaCungCap { get; set; }
        [ForeignKey("IdNhanVien")]
        public virtual NhanVien NhanVien { get; set; } = null!;

        public virtual ICollection<ChiTietNhapKho> ChiTietNhapKhos { get; set; } = new List<ChiTietNhapKho>();
    }

    [Table("ChiTietNhapKho")]
    public class ChiTietNhapKho
    {
        public int IdPhieuNhapKho { get; set; }
        public int IdNguyenLieu { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal SoLuongNhap { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal DonGiaNhap { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        [DatabaseGenerated(DatabaseGeneratedOption.Computed)]
        public decimal ThanhTien { get; set; }

        [ForeignKey("IdPhieuNhapKho")]
        public virtual PhieuNhapKho PhieuNhapKho { get; set; } = null!;
        [ForeignKey("IdNguyenLieu")]
        public virtual NguyenLieu NguyenLieu { get; set; } = null!;
    }

    [Table("PhieuKiemKho")]
    public class PhieuKiemKho
    {
        [Key]
        public int IdPhieuKiemKho { get; set; }
        public int IdNhanVienKiem { get; set; }
        public DateTime NgayKiem { get; set; }
        [StringLength(500)]
        public string? GhiChu { get; set; }
        [Required]
        [StringLength(50)]
        public string TrangThai { get; set; } = string.Empty;

        [ForeignKey("IdNhanVienKiem")]
        public virtual NhanVien NhanVienKiem { get; set; } = null!;

        public virtual ICollection<ChiTietKiemKho> ChiTietKiemKhos { get; set; } = new List<ChiTietKiemKho>();
    }

    [Table("ChiTietKiemKho")]
    public class ChiTietKiemKho
    {
        public int IdPhieuKiemKho { get; set; }
        public int IdNguyenLieu { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal TonKhoHeThong { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal TonKhoThucTe { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        [DatabaseGenerated(DatabaseGeneratedOption.Computed)]
        public decimal ChenhLech { get; set; }
        [StringLength(255)]
        public string? LyDoChenhLech { get; set; }

        [ForeignKey("IdPhieuKiemKho")]
        public virtual PhieuKiemKho PhieuKiemKho { get; set; } = null!;
        [ForeignKey("IdNguyenLieu")]
        public virtual NguyenLieu NguyenLieu { get; set; } = null!;
    }

    [Table("PhieuXuatHuy")]
    public class PhieuXuatHuy
    {
        [Key]
        public int IdPhieuXuatHuy { get; set; }
        public int IdNhanVienXuat { get; set; }
        public DateTime NgayXuatHuy { get; set; }
        [Required]
        [StringLength(500)]
        public string LyDoXuatHuy { get; set; } = string.Empty;
        [Column(TypeName = "decimal(18, 2)")]
        public decimal TongGiaTriHuy { get; set; }

        [ForeignKey("IdNhanVienXuat")]
        public virtual NhanVien NhanVienXuat { get; set; } = null!;

        public virtual ICollection<ChiTietXuatHuy> ChiTietXuatHuys { get; set; } = new List<ChiTietXuatHuy>();
    }

    [Table("ChiTietXuatHuy")]
    public class ChiTietXuatHuy
    {
        public int IdPhieuXuatHuy { get; set; }
        public int IdNguyenLieu { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal SoLuong { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal DonGiaVon { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        [DatabaseGenerated(DatabaseGeneratedOption.Computed)]
        public decimal ThanhTien { get; set; }

        [ForeignKey("IdPhieuXuatHuy")]
        public virtual PhieuXuatHuy PhieuXuatHuy { get; set; } = null!;
        [ForeignKey("IdNguyenLieu")]
        public virtual NguyenLieu NguyenLieu { get; set; } = null!;
    }

    [Table("KhachHang")]
    public class KhachHang
    {
        [Key]
        public int IdKhachHang { get; set; }
        [Required]
        [StringLength(255)]
        public string HoTen { get; set; } = string.Empty;
        [StringLength(20)]
        public string? SoDienThoai { get; set; }
        [StringLength(100)]
        public string? Email { get; set; }
        [StringLength(500)]
        public string? DiaChi { get; set; }
        public int DiemTichLuy { get; set; }
        [StringLength(100)]
        public string? TenDangNhap { get; set; }
        [StringLength(255)]
        public string? MatKhau { get; set; }
        public DateTime NgayTao { get; set; }
        // --- THÃŠM Má»šI ---
        public bool BiKhoa { get; set; }
        public string? AnhDaiDien { get; set; } // ThÃªm (náº¿u chÆ°a cÃ³)
        public virtual ICollection<HoaDon> HoaDons { get; set; } = new List<HoaDon>();
        public virtual ICollection<PhieuDatBan> PhieuDatBans { get; set; } = new List<PhieuDatBan>();
        public virtual ICollection<PhieuThueSach> PhieuThueSachs { get; set; } = new List<PhieuThueSach>();
        public virtual ICollection<ChatLichSu> ChatLichSus { get; set; } = new List<ChatLichSu>();
    }

    [Table("PhieuDatBan")]
    public class PhieuDatBan
    {
        [Key]
        public int IdPhieuDatBan { get; set; }
        public int? IdKhachHang { get; set; }
        public int IdBan { get; set; }
        [StringLength(100)]
        public string? HoTenKhach { get; set; }
        [StringLength(20)]
        public string? SdtKhach { get; set; }
        public DateTime ThoiGianDat { get; set; }
        public int SoLuongKhach { get; set; }
        [Required]
        [StringLength(50)]
        public string TrangThai { get; set; } = string.Empty;
        [StringLength(500)]
        public string? GhiChu { get; set; }

        [ForeignKey("IdKhachHang")]
        public virtual KhachHang? KhachHang { get; set; }
        [ForeignKey("IdBan")]
        public virtual Ban Ban { get; set; } = null!;
    }

    [Table("KhuyenMai")]
    public class KhuyenMai
    {
        [Key]
        public int IdKhuyenMai { get; set; }
        [Required]
        [StringLength(50)]
        public string MaKhuyenMai { get; set; } = string.Empty;
        [Required]
        [StringLength(255)]
        public string TenChuongTrinh { get; set; } = string.Empty;
        public string? MoTa { get; set; }
        [Required]
        [StringLength(20)]
        public string LoaiGiamGia { get; set; } = string.Empty;
        [Column(TypeName = "decimal(18, 2)")]
        public decimal GiaTriGiam { get; set; }
        public DateTime NgayBatDau { get; set; }
        public DateTime NgayKetThuc { get; set; }
        [StringLength(500)]
        public string? DieuKienApDung { get; set; } // MÃ´ táº£ cho DataGrid
        public int? SoLuongConLai { get; set; }

        // --- CÃC Cá»˜T Má»šI ---
        [Required]
        [StringLength(50)]
        public string TrangThai { get; set; } = string.Empty; // Hoáº¡t Ä‘á»™ng, Táº¡m dá»«ng, Háº¿t háº¡n
        [Column(TypeName = "decimal(18, 2)")]
        public decimal? GiamToiDa { get; set; }
        public int? IdSanPhamApDung { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal? HoaDonToiThieu { get; set; }
        public TimeSpan? GioBatDau { get; set; }
        public TimeSpan? GioKetThuc { get; set; }
        [StringLength(50)]
        public string? NgayTrongTuan { get; set; }

        [ForeignKey("IdSanPhamApDung")]
        public virtual SanPham? SanPhamApDung { get; set; }
        // --- Káº¾T THÃšC Cá»˜T Má»šI ---

        public virtual ICollection<HoaDon_KhuyenMai> HoaDonKhuyenMais { get; set; } = new List<HoaDon_KhuyenMai>();
    }

    [Table("HoaDon_KhuyenMai")]
    public class HoaDon_KhuyenMai
    {
        public int IdHoaDon { get; set; }
        public int IdKhuyenMai { get; set; }

        [ForeignKey("IdHoaDon")]
        public virtual HoaDon HoaDon { get; set; } = null!;
        [ForeignKey("IdKhuyenMai")]
        public virtual KhuyenMai KhuyenMai { get; set; } = null!;
    }

    [Table("TheLoai")]
    public class TheLoai
    {
        [Key]
        public int IdTheLoai { get; set; }
        [Required]
        [StringLength(255)]
        public string TenTheLoai { get; set; } = string.Empty;

        public virtual ICollection<Sach> Sachs { get; set; } = new List<Sach>();
    }

    [Table("TacGia")]
    public class TacGia
    {
        [Key]
        public int IdTacGia { get; set; }
        [Required]
        [StringLength(255)]
        public string TenTacGia { get; set; } = string.Empty;
        public string? GioiThieu { get; set; }

        public virtual ICollection<Sach> Sachs { get; set; } = new List<Sach>();
    }

    [Table("NhaXuatBan")]
    public class NhaXuatBan
    {
        [Key]
        public int IdNhaXuatBan { get; set; }
        [Required]
        [StringLength(255)]
        public string TenNhaXuatBan { get; set; } = string.Empty;

        public virtual ICollection<Sach> Sachs { get; set; } = new List<Sach>();
    }

    [Table("Sach")]
    public class Sach
    {
        [Key]
        public int IdSach { get; set; }
        [Required]
        [StringLength(500)]
        public string TenSach { get; set; } = string.Empty;
        public int? IdTheLoai { get; set; }
        public int? IdTacGia { get; set; }
        public int? IdNhaXuatBan { get; set; }
        public int? NamXuatBan { get; set; }
        public string? MoTa { get; set; }
        public int SoLuongTong { get; set; }
        public int SoLuongHienCo { get; set; }
        public string? AnhBia { get; set; } // Base64
        public decimal? GiaBia { get; set; } // <<< THÃŠM Má»šI
        public string? ViTri { get; set; }  // <<< THÃŠM Má»šI

        [ForeignKey("IdTheLoai")]
        public virtual TheLoai? TheLoai { get; set; }
        [ForeignKey("IdTacGia")]
        public virtual TacGia? TacGia { get; set; }
        [ForeignKey("IdNhaXuatBan")]
        public virtual NhaXuatBan? NhaXuatBan { get; set; }

        public virtual ICollection<ChiTietPhieuThue> ChiTietPhieuThues { get; set; } = new List<ChiTietPhieuThue>();
        public virtual ICollection<DeXuatSach> DeXuatSachGocs { get; set; } = new List<DeXuatSach>();
        public virtual ICollection<DeXuatSach> DeXuatSachDeXuats { get; set; } = new List<DeXuatSach>();
    }

    [Table("PhieuThueSach")]
    public class PhieuThueSach
    {
        [Key]
        public int IdPhieuThueSach { get; set; }
        public int IdKhachHang { get; set; }
        public int IdNhanVien { get; set; }
        public DateTime NgayThue { get; set; }
        [Required]
        [StringLength(50)]
        public string TrangThai { get; set; } = string.Empty;
        [Column(TypeName = "decimal(18, 2)")]
        public decimal TongTienCoc { get; set; }

        [ForeignKey("IdKhachHang")]
        public virtual KhachHang KhachHang { get; set; } = null!;
        [ForeignKey("IdNhanVien")]
        public virtual NhanVien NhanVien { get; set; } = null!;

        public virtual ICollection<ChiTietPhieuThue> ChiTietPhieuThues { get; set; } = new List<ChiTietPhieuThue>();
    }

    [Table("ChiTietPhieuThue")]
    public class ChiTietPhieuThue
    {
        public int IdPhieuThueSach { get; set; }
        public int IdSach { get; set; }
        public DateTime NgayHenTra { get; set; }
        public DateTime? NgayTraThucTe { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal TienCoc { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal? TienPhatTraTre { get; set; }

        [ForeignKey("IdPhieuThueSach")]
        public virtual PhieuThueSach PhieuThueSach { get; set; } = null!;
        [ForeignKey("IdSach")]
        public virtual Sach Sach { get; set; } = null!;
    }

    [Table("VaiTro")]
    public class VaiTro
    {
        [Key]
        public int IdVaiTro { get; set; }
        [Required]
        [StringLength(100)]
        public string TenVaiTro { get; set; } = string.Empty;
        [StringLength(500)]
        public string? MoTa { get; set; }

        public virtual ICollection<NhanVien> NhanViens { get; set; } = new List<NhanVien>();
        public virtual ICollection<VaiTro_Quyen> VaiTroQuyens { get; set; } = new List<VaiTro_Quyen>();
    }

    [Table("NhanVien")]
    public class NhanVien
    {
        [Key]
        public int IdNhanVien { get; set; }
        [Required]
        [StringLength(255)]
        public string HoTen { get; set; } = string.Empty;
        [Required]
        [StringLength(20)]
        public string SoDienThoai { get; set; } = string.Empty;
        [StringLength(100)]
        public string? Email { get; set; }
        [StringLength(500)]
        public string? DiaChi { get; set; }
        public DateTime NgayVaoLam { get; set; }
        public int IdVaiTro { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal LuongCoBan { get; set; }
        [Required]
        [StringLength(50)]
        public string TrangThaiLamViec { get; set; } = string.Empty;
        [Required]
        [StringLength(100)]
        public string TenDangNhap { get; set; } = string.Empty;
        [Required]
        [StringLength(255)]
        public string MatKhau { get; set; } = string.Empty;
        public string? AnhDaiDien { get; set; } // Base64

        [ForeignKey("IdVaiTro")]
        public virtual VaiTro VaiTro { get; set; } = null!;

        // --- Báº®T Äáº¦U Sá»¬A Lá»–I ---

        public virtual ICollection<HoaDon> HoaDons { get; set; } = new List<HoaDon>();
        public virtual ICollection<NhatKyHuyMon> NhatKyHuyMons { get; set; } = new List<NhatKyHuyMon>();
        public virtual ICollection<PhieuNhapKho> PhieuNhapKhos { get; set; } = new List<PhieuNhapKho>();
        public virtual ICollection<PhieuKiemKho> PhieuKiemKhos { get; set; } = new List<PhieuKiemKho>();
        public virtual ICollection<PhieuXuatHuy> PhieuXuatHuys { get; set; } = new List<PhieuXuatHuy>();
        public virtual ICollection<PhieuThueSach> PhieuThueSachs { get; set; } = new List<PhieuThueSach>();
        public virtual ICollection<LichLamViec> LichLamViecs { get; set; } = new List<LichLamViec>();

        // Sá»­a lá»—i PhieuLuong (Chá»‰ rÃµ collection nÃ y dÃ¹ng FK "NhanVien")
        [InverseProperty("NhanVien")]
        public virtual ICollection<PhieuLuong> PhieuLuongs { get; set; } = new List<PhieuLuong>();

        // ThÃªm collection cho má»‘i quan há»‡ thá»© 2 (dÃ¹ng FK "NguoiPhat")
        [InverseProperty("NguoiPhat")]
        public virtual ICollection<PhieuLuong> PhieuLuongsDaPhat { get; set; } = new List<PhieuLuong>();


        // Sá»­a lá»—i DonXinNghi (Chá»‰ rÃµ collection nÃ y dÃ¹ng FK "NhanVien")
        [InverseProperty("NhanVien")]
        public virtual ICollection<DonXinNghi> DonXinNghis { get; set; } = new List<DonXinNghi>();

        // Sá»­a lá»—i DonXinNghi (Chá»‰ rÃµ collection nÃ y dÃ¹ng FK "NguoiDuyet")
        [InverseProperty("NguoiDuyet")]
        public virtual ICollection<DonXinNghi> DonXinNghiNguoiDuyets { get; set; } = new List<DonXinNghi>();


        public virtual ICollection<ChatLichSu> ChatLichSus { get; set; } = new List<ChatLichSu>();

        // --- Káº¾T THÃšC Sá»¬A Lá»–I ---
    }

    [Table("CaLamViec")]
    public class CaLamViec
    {
        [Key]
        public int IdCa { get; set; }
        [Required]
        [StringLength(100)]
        public string TenCa { get; set; } = string.Empty;
        public TimeSpan GioBatDau { get; set; }
        public TimeSpan GioKetThuc { get; set; }

        public virtual ICollection<LichLamViec> LichLamViecs { get; set; } = new List<LichLamViec>();
    }

    [Table("LichLamViec")]
    public class LichLamViec
    {
        [Key]
        public int IdLichLamViec { get; set; }
        public int IdNhanVien { get; set; }
        public int IdCa { get; set; }
        public DateTime NgayLam { get; set; }

        [ForeignKey("IdNhanVien")]
        public virtual NhanVien NhanVien { get; set; } = null!;
        [ForeignKey("IdCa")]
        public virtual CaLamViec CaLamViec { get; set; } = null!;

        public virtual ICollection<BangChamCong> BangChamCongs { get; set; } = new List<BangChamCong>();
    }

    [Table("BangChamCong")]
    public class BangChamCong
    {
        [Key]
        public int IdChamCong { get; set; }
        public int IdLichLamViec { get; set; }
        public DateTime? GioVao { get; set; }
        public DateTime? GioRa { get; set; }

        // --- Sá»¬A Lá»–I Tá»ª double? SANG decimal? VÃ€ THÃŠM TYPE ---
        [Column(TypeName = "decimal(18, 2)")]
        [DatabaseGenerated(DatabaseGeneratedOption.Computed)]
        public decimal? SoGioLam { get; set; }

        [ForeignKey("IdLichLamViec")]
        public virtual LichLamViec LichLamViec { get; set; } = null!;
    }

    [Table("PhieuLuong")]
    public class PhieuLuong
    {
        [Key]
        public int IdPhieuLuong { get; set; }
        public int IdNhanVien { get; set; }
        public int Thang { get; set; }
        public int Nam { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal LuongCoBan { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal TongGioLam { get; set; }

        // --- Sá»¬A Lá»–I KHá»šP Vá»šI CSDL (cho phÃ©p NULL) ---
        [Column(TypeName = "decimal(18, 2)")]
        public decimal? TienThuong { get; set; }
        [Column(TypeName = "decimal(18, 2)")]
        public decimal? KhauTru { get; set; }

        [Column(TypeName = "decimal(18, 2)")]
        public decimal ThucLanh { get; set; }
        public DateTime NgayTao { get; set; }
        [Required]
        [StringLength(50)]
        public string TrangThai { get; set; } = string.Empty;

        [ForeignKey("IdNhanVien")]
        public virtual NhanVien NhanVien { get; set; } = null!;

        // --- Sá»¬A Lá»–I KHá»šP Vá»šI CSDL (thÃªm cá»™t má»›i) ---
        public DateTime? NgayPhatLuong { get; set; }
        public int? IdNguoiPhat { get; set; }
        [ForeignKey("IdNguoiPhat")]
        public virtual NhanVien? NguoiPhat { get; set; }
    }

    [Table("DonXinNghi")]
    public class DonXinNghi
    {
        [Key]
        public int IdDonXinNghi { get; set; }
        public int IdNhanVien { get; set; }
        [Required]
        [StringLength(100)]
        public string LoaiDon { get; set; } = string.Empty;
        [Required]
        [StringLength(500)]
        public string LyDo { get; set; } = string.Empty;
        public DateTime NgayBatDau { get; set; }
        public DateTime NgayKetThuc { get; set; }
        [Required]
        [StringLength(50)]
        public string TrangThai { get; set; } = string.Empty;
        public int? IdNguoiDuyet { get; set; }
        public DateTime? NgayDuyet { get; set; }
        [StringLength(255)]
        public string? GhiChuPheDuyet { get; set; }

        [ForeignKey("IdNhanVien")]
        public virtual NhanVien NhanVien { get; set; } = null!;
        [ForeignKey("IdNguoiDuyet")]
        public virtual NhanVien? NguoiDuyet { get; set; }
    }

    [Table("CaiDat")]
    public class CaiDat
    {
        [Key]
        [StringLength(100)]
        public string TenCaiDat { get; set; } = string.Empty;
        [Required]
        public string GiaTri { get; set; } = string.Empty;
        [StringLength(500)]
        public string? MoTa { get; set; }
    }

    [Table("Quyen")]
    public class Quyen
    {
        [Key]
        [StringLength(100)]
        public string IdQuyen { get; set; } = string.Empty;
        [Required]
        [StringLength(255)]
        public string TenQuyen { get; set; } = string.Empty;
        [Required]
        [StringLength(100)]
        public string NhomQuyen { get; set; } = string.Empty;

        public virtual ICollection<VaiTro_Quyen> VaiTroQuyens { get; set; } = new List<VaiTro_Quyen>();
    }

    [Table("VaiTro_Quyen")]
    public class VaiTro_Quyen
    {
        public int IdVaiTro { get; set; }
        [StringLength(100)]
        public string IdQuyen { get; set; } = string.Empty;

        [ForeignKey("IdVaiTro")]
        public virtual VaiTro VaiTro { get; set; } = null!;
        [ForeignKey("IdQuyen")]
        public virtual Quyen Quyen { get; set; } = null!;
    }

    [Table("GiaoDichThanhToan")]
    public class GiaoDichThanhToan
    {
        [Key]
        public int IdGiaoDich { get; set; }
        public int IdHoaDon { get; set; }
        [Required]
        [StringLength(100)]
        public string MaGiaoDichNgoai { get; set; } = string.Empty;
        [Required]
        [StringLength(50)]
        public string CongThanhToan { get; set; } = string.Empty;
        [Column(TypeName = "decimal(18, 2)")]
        public decimal SoTien { get; set; }
        public DateTime ThoiGianGiaoDich { get; set; }
        [Required]
        [StringLength(100)]
        public string TrangThai { get; set; } = string.Empty;
        [StringLength(50)]
        public string? MaLoi { get; set; }
        [StringLength(500)]
        public string? MoTaLoi { get; set; }

        [ForeignKey("IdHoaDon")]
        public virtual HoaDon HoaDon { get; set; } = null!;
    }

    [Table("ChatLichSu")]
    public class ChatLichSu
    {
        [Key]
        public long IdChat { get; set; }
        public int? IdKhachHang { get; set; }
        public int? IdNhanVien { get; set; }
        [Required]
        public string NoiDungHoi { get; set; } = string.Empty;
        [Required]
        public string NoiDungTraLoi { get; set; } = string.Empty;
        public DateTime ThoiGian { get; set; }
        [StringLength(50)]
        public string? LoaiChat { get; set; }

        [ForeignKey("IdKhachHang")]
        public virtual KhachHang? KhachHang { get; set; }
        [ForeignKey("IdNhanVien")]
        public virtual NhanVien? NhanVien { get; set; }
    }

    [Table("DeXuatSanPham")]
    public class DeXuatSanPham
    {
        public int IdSanPhamGoc { get; set; }
        public int IdSanPhamDeXuat { get; set; }
        public double DoLienQuan { get; set; }
        [Required]
        [StringLength(100)]
        public string LoaiDeXuat { get; set; } = string.Empty;

        [ForeignKey("IdSanPhamGoc")]
        public virtual SanPham SanPhamGoc { get; set; } = null!;
        [ForeignKey("IdSanPhamDeXuat")]
        public virtual SanPham SanPhamDeXuat { get; set; } = null!;
    }

    [Table("DeXuatSach")]
    public class DeXuatSach
    {
        public int IdSachGoc { get; set; }
        public int IdSachDeXuat { get; set; }
        public double DoLienQuan { get; set; }
        [Required]
        [StringLength(100)]
        public string LoaiDeXuat { get; set; } = string.Empty;

        [ForeignKey("IdSachGoc")]
        public virtual Sach SachGoc { get; set; } = null!;
        [ForeignKey("IdSachDeXuat")]
        public virtual Sach SachDeXuat { get; set; } = null!;
    }

    [Table("ThongBao")]
    public class ThongBao
    {
        [Key]
        public int IdThongBao { get; set; }

        public int? IdNhanVienTao { get; set; }

        [Required]
        [StringLength(500)]
        public string NoiDung { get; set; } = string.Empty;

        public DateTime ThoiGianTao { get; set; }

        [StringLength(50)]
        public string? LoaiThongBao { get; set; }

        public int? IdLienQuan { get; set; } // Sáº½ lÃ  idBan

        public bool DaXem { get; set; }

        [ForeignKey("IdNhanVienTao")]
        public virtual NhanVien? NhanVienTao { get; set; }
    }

    [Table("PhieuThuongPhat")]
    public class PhieuThuongPhat
    {
        [Key]
        public int IdPhieuThuongPhat { get; set; }

        public int IdNhanVien { get; set; }

        public int IdNguoiTao { get; set; }

        public DateTime NgayTao { get; set; }

        [Column(TypeName = "decimal(18, 2)")]
        public decimal SoTien { get; set; }

        [Required]
        [StringLength(500)]
        public string LyDo { get; set; } = string.Empty;

        public int? IdPhieuLuong { get; set; }

        [ForeignKey("IdNhanVien")]
        public virtual NhanVien NhanVien { get; set; } = null!;

        [ForeignKey("IdNguoiTao")]
        public virtual NhanVien NguoiTao { get; set; } = null!;

        [ForeignKey("IdPhieuLuong")]
        public virtual PhieuLuong? PhieuLuong { get; set; }
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Utils\
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Utils\HinhAnhPaths.cs
// Táº­p tin: CafebookModel/Utils/HinhAnhPaths.cs
using System.IO; // ThÃªm

namespace CafebookModel.Utils
{
    public static class HinhAnhPaths
    {
        // --- WPF Pack URIs (Defaults/Fallbacks) ---
        public const string DefaultAvatar = "/Assets/Images/default-avatar.png";
        public const string DefaultBookCover = "/Assets/Images/default-book-cover.png";
        public const string DefaultFoodIcon = "/Assets/Images/default-food-icon.png";

        // --- Server Relative URL Paths (DÃ¹ng /) ---
        public const string UrlAvatarNV = "/images/avatars/avatarNV";
        public const string UrlAvatarKH = "/images/avatars/avatarKH";
        public const string UrlBooks = "/images/books";
        public const string UrlFoods = "/images/foods";
    }
}
e:\Tai Lieu Hoc Tap\CS 445 AM\Project\CafebookModel\Utils\SlugifyUtil.cs
// Táº­p tin: CafebookModel/Utils/SlugifyUtil.cs
using System.Globalization;
using System.Text;
using System.Text.RegularExpressions;

namespace CafebookModel.Utils
{
    public static class SlugifyUtil
    {
        // HÃ m nÃ y sáº½ chuyá»ƒn "CÃ  PhÃª Sá»¯a ÄÃ¡" -> "ca-phe-sua-da"
        public static string GenerateSlug(this string phrase)
        {
            if (string.IsNullOrEmpty(phrase)) return "file";

            // 1. Chuyá»ƒn Ä‘á»•i kÃ½ tá»± cÃ³ dáº¥u thÃ nh khÃ´ng dáº¥u
            string str = phrase.ToLower().Trim();
            str = str.RemoveDiacritics();

            // 2. Thay tháº¿ khoáº£ng tráº¯ng vÃ  kÃ½ tá»± Ä‘áº·c biá»‡t
            str = Regex.Replace(str, @"[^a-z0-9\s-]", ""); // XÃ³a kÃ½ tá»± láº¡
            str = Regex.Replace(str, @"\s+", "-"); // Thay khoáº£ng tráº¯ng báº±ng -
            str = Regex.Replace(str, @"-+", "-"); // Gá»™p nhiá»u dáº¥u -
            str = str.Trim('-');

            if (string.IsNullOrEmpty(str)) return "file";

            return str;
        }

        // HÃ m helper Ä‘á»ƒ bá» dáº¥u tiáº¿ng Viá»‡t
        private static string RemoveDiacritics(this string text)
        {
            var normalizedString = text.Normalize(NormalizationForm.FormD);
            var stringBuilder = new StringBuilder();

            foreach (var c in normalizedString)
            {
                var unicodeCategory = CharUnicodeInfo.GetUnicodeCategory(c);
                if (unicodeCategory != UnicodeCategory.NonSpacingMark)
                {
                    stringBuilder.Append(c);
                }
            }
            return stringBuilder.ToString().Normalize(NormalizationForm.FormC);
        }
    }
}