# ğŸ“š â€œThuÃª sÃ¡châ€ vÃ  â˜• â€œGá»i mÃ³n / Äáº·t thá»©c uá»‘ngâ€
---
# ğŸ§¾ Äáº¶C Táº¢ CHI TIáº¾T CHá»¨C NÄ‚NG Há»† THá»NG CAFÃ‰BOOK
---
## ğŸ”· 1. Giá»›i thiá»‡u chung
**TÃªn há»‡ thá»‘ng:** *Cafebook Management System*
**MÃ´ táº£ tá»•ng quÃ¡t:**
Há»‡ thá»‘ng há»— trá»£ khÃ¡ch hÃ ng **thuÃª sÃ¡ch Ä‘á»ƒ Ä‘á»c táº¡i quÃ¡n hoáº·c mang vá»**, Ä‘á»“ng thá»i **Ä‘áº·t mÃ³n / thá»©c uá»‘ng**.
Cáº£ hai nghiá»‡p vá»¥ Ä‘Æ°á»£c **quáº£n lÃ½ tÃ¡ch biá»‡t** nhÆ°ng dÃ¹ng **chung thÃ´ng tin khÃ¡ch hÃ ng, nhÃ¢n viÃªn, vÃ  thanh toÃ¡n**.
---
## ğŸ”· 2. Danh sÃ¡ch chá»©c nÄƒng chÃ­nh
| MÃ£ chá»©c nÄƒng | TÃªn chá»©c nÄƒng               | MÃ´ táº£ ngáº¯n                                                              |
| ------------ | --------------------------- | ----------------------------------------------------------------------- |
| FS-01        | Quáº£n lÃ½ thuÃª sÃ¡ch           | KhÃ¡ch hÃ ng thuÃª 1 hoáº·c nhiá»u sÃ¡ch, cÃ³ thá»ƒ giao táº­n nÆ¡i, cÃ³ thá»i háº¡n tráº£ |
| FS-02        | Quáº£n lÃ½ Ä‘áº·t mÃ³n / thá»©c uá»‘ng | KhÃ¡ch hÃ ng gá»i mÃ³n táº¡i quÃ¡n hoáº·c Ä‘áº·t giao hÃ ng                          |
| FS-03        | Quáº£n lÃ½ thanh toÃ¡n          | Thanh toÃ¡n cá»c sÃ¡ch hoáº·c hÃ³a Ä‘Æ¡n mÃ³n                                    |
| FS-04        | Theo dÃµi vÃ  xá»­ lÃ½ Ä‘Æ¡n hÃ ng  | NhÃ¢n viÃªn quáº£n lÃ½, xÃ¡c nháº­n, cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n                    |
---
## ğŸ§© 3. Äáº¶C Táº¢ CHá»¨C NÄ‚NG CHI TIáº¾T
---
## ğŸ“š **CHá»¨C NÄ‚NG FS-01: THUÃŠ SÃCH**
#### 1ï¸âƒ£ Má»¥c Ä‘Ã­ch
Cho phÃ©p khÃ¡ch hÃ ng **thuÃª má»™t hoáº·c nhiá»u quyá»ƒn sÃ¡ch** tá»« quÃ¡n CafÃ©book Ä‘á»ƒ Ä‘á»c táº¡i chá»— hoáº·c mang vá».
CÃ³ thá»ƒ chá»n giao táº­n nÆ¡i, thanh toÃ¡n tiá»n cá»c, vÃ  theo dÃµi phiáº¿u thuÃª.
---
#### 2ï¸âƒ£ Actor liÃªn quan
| Actor               | Vai trÃ²                              |
| ------------------- | ------------------------------------ |
| KhÃ¡ch hÃ ng          | Chá»n sÃ¡ch, xÃ¡c nháº­n thuÃª, thanh toÃ¡n |
| NhÃ¢n viÃªn kho sÃ¡ch  | XÃ¡c nháº­n Ä‘Æ¡n, chuáº©n bá»‹ sÃ¡ch          |
| NhÃ¢n viÃªn giao hÃ ng | Giao sÃ¡ch Ä‘áº¿n khÃ¡ch náº¿u cáº§n          |
| Quáº£n lÃ½ / Thu ngÃ¢n  | XÃ¡c nháº­n thanh toÃ¡n, xá»­ lÃ½ tráº£ sÃ¡ch  |
---
#### 3ï¸âƒ£ Tiá»n Ä‘iá»u kiá»‡n
* KhÃ¡ch hÃ ng **Ä‘Ã£ Ä‘Äƒng nháº­p há»‡ thá»‘ng.**
* SÃ¡ch **cÃ²n tá»“n kho** (`soLuongHienCo > 0`).
* TÃ i khoáº£n khÃ¡ch **khÃ´ng bá»‹ khÃ³a** (`BiKhoa = 0`).
---
#### 4ï¸âƒ£ Háº­u Ä‘iá»u kiá»‡n
* Phiáº¿u thuÃª Ä‘Æ°á»£c táº¡o trong báº£ng `PhieuThueSach`.
* CÃ¡c sÃ¡ch Ä‘Æ°á»£c trá»« tá»“n (`soLuongHienCo`).
* Thanh toÃ¡n cá»c Ä‘Æ°á»£c ghi nháº­n (náº¿u cÃ³).
--
#### 5ï¸âƒ£ Luá»“ng hoáº¡t Ä‘á»™ng chÃ­nh
| BÆ°á»›c | MÃ´ táº£ hÃ nh Ä‘á»™ng                                              | Há»‡ thá»‘ng xá»­ lÃ½                                                |
| ---- | ------------------------------------------------------------ | ------------------------------------------------------------- |
| 1    | KhÃ¡ch hÃ ng chá»n 1 hoáº·c nhiá»u sÃ¡ch tá»« danh má»¥c                | Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t sÃ¡ch (giÃ¡ cá»c, mÃ´ táº£, tÃ¬nh tráº¡ng) |
| 2    | Nháº¥n â€œThuÃª sÃ¡châ€                                             | Má»Ÿ form nháº­p thÃ´ng tin thuÃª                                   |
| 3    | Nháº­p hÃ¬nh thá»©c nháº­n: â€œTáº¡i quÃ¡nâ€ hoáº·c â€œGiao táº­n nÆ¡iâ€          | Náº¿u giao táº­n nÆ¡i â†’ yÃªu cáº§u Ä‘á»‹a chá»‰ vÃ  sá»‘ Ä‘iá»‡n thoáº¡i           |
| 4    | Chá»n phÆ°Æ¡ng thá»©c thanh toÃ¡n: COD / Chuyá»ƒn khoáº£n / VÃ­ Ä‘iá»‡n tá»­ | LÆ°u lá»±a chá»n                                                  |
| 5    | Nháº¥n â€œXÃ¡c nháº­n thuÃªâ€                                         | Táº¡o báº£n ghi `PhieuThueSach`, `ChiTietPhieuThue`               |
| 6    | Há»‡ thá»‘ng trá»« sÃ¡ch khá»i kho, gá»­i thÃ´ng bÃ¡o                    | Hiá»ƒn thá»‹ thÃ´ng tin háº¡n tráº£                                    |
| 7    | NhÃ¢n viÃªn xÃ¡c nháº­n Ä‘Æ¡n                                       | Cáº­p nháº­t `trangThai = Äang xá»­ lÃ½ / Äang giao / ÄÃ£ tráº£`        |
---
#### 6ï¸âƒ£ CÃ¡c luá»“ng phá»¥
* **Luá»“ng lá»—i 1:** SÃ¡ch háº¿t hÃ ng â†’ hiá»ƒn thá»‹ thÃ´ng bÃ¡o.
* **Luá»“ng lá»—i 2:** KhÃ¡ch chÆ°a Ä‘Äƒng nháº­p â†’ chuyá»ƒn Ä‘áº¿n trang Login.
* **Luá»“ng lá»—i 3:** Thanh toÃ¡n tháº¥t báº¡i â†’ há»§y phiáº¿u, hoÃ n kho.
---
#### 7ï¸âƒ£ Dá»¯ liá»‡u chÃ­nh
| Báº£ng                | MÃ´ táº£                      |
| ------------------- | -------------------------- |
| `PhieuThueSach`     | ThÃ´ng tin phiáº¿u thuÃª tá»•ng  |
| `ChiTietPhieuThue`  | Danh sÃ¡ch sÃ¡ch thuÃª        |
| `ThanhToanThueSach` | ThÃ´ng tin thanh toÃ¡n       |
| `Sach`              | Dá»¯ liá»‡u sÃ¡ch, sá»‘ lÆ°á»£ng tá»“n |
---
#### 8ï¸âƒ£ Tráº¡ng thÃ¡i phiáº¿u thuÃª
| Tráº¡ng thÃ¡i   | MÃ´ táº£                   |
| ------------ | ----------------------- |
| Chá» xÃ¡c nháº­n | ÄÆ¡n má»›i táº¡o             |
| Äang giao    | Äang gá»­i sÃ¡ch Ä‘áº¿n khÃ¡ch |
| Äang thuÃª    | KhÃ¡ch Ä‘ang giá»¯ sÃ¡ch     |
| ÄÃ£ tráº£       | ÄÃ£ hoÃ n táº¥t             |
| ÄÃ£ há»§y       | ÄÆ¡n bá»‹ há»§y              |
---
### â˜• **CHá»¨C NÄ‚NG FS-02: Gá»ŒI MÃ“N / Äáº¶T THá»¨C Uá»NG**
#### 1ï¸âƒ£ Má»¥c Ä‘Ã­ch
Cho phÃ©p khÃ¡ch hÃ ng **Ä‘áº·t mÃ³n, thá»©c uá»‘ng hoáº·c Ä‘á»“ Äƒn nháº¹** tá»« menu CafÃ©book, cÃ³ thá»ƒ dÃ¹ng táº¡i quÃ¡n hoáº·c giao táº­n nÆ¡i.
---
#### 2ï¸âƒ£ Actor liÃªn quan
| Actor                   | Vai trÃ²                        |
| ----------------------- | ------------------------------ |
| KhÃ¡ch hÃ ng              | Chá»n mÃ³n, Ä‘áº·t hÃ ng, thanh toÃ¡n |
| NhÃ¢n viÃªn pha cháº¿ / báº¿p | Chuáº©n bá»‹ mÃ³n theo Ä‘Æ¡n          |
| NhÃ¢n viÃªn giao hÃ ng     | Giao mÃ³n cho khÃ¡ch             |
| Thu ngÃ¢n                | XÃ¡c nháº­n thanh toÃ¡n            |
---
#### 3ï¸âƒ£ Tiá»n Ä‘iá»u kiá»‡n
* KhÃ¡ch hÃ ng **Ä‘Äƒng nháº­p thÃ nh cÃ´ng**.
* MÃ³n Äƒn / thá»©c uá»‘ng **cÃ²n kinh doanh** (`trangThai = 'CÃ²n bÃ¡n'`).
---
#### 4ï¸âƒ£ Háº­u Ä‘iá»u kiá»‡n
* Táº¡o báº£n ghi `HoaDon` vÃ  `ChiTietHoaDon`.
* MÃ³n Ä‘Æ°á»£c gá»­i Ä‘áº¿n quáº§y pha cháº¿.
* Tráº¡ng thÃ¡i hÃ³a Ä‘Æ¡n Ä‘Æ°á»£c cáº­p nháº­t.
---
#### 5ï¸âƒ£ Luá»“ng hoáº¡t Ä‘á»™ng chÃ­nh
| BÆ°á»›c | MÃ´ táº£ hÃ nh Ä‘á»™ng                                     | Há»‡ thá»‘ng xá»­ lÃ½                             |
| ---- | --------------------------------------------------- | ------------------------------------------ |
| 1    | KhÃ¡ch chá»n mÃ³n tá»« menu                              | Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t, giÃ¡, hÃ¬nh áº£nh |
| 2    | Chá»n sá»‘ lÆ°á»£ng vÃ  thÃªm vÃ o giá» hÃ ng                  | Cáº­p nháº­t tá»•ng táº¡m tÃ­nh                     |
| 3    | Chá»n hÃ¬nh thá»©c dÃ¹ng: táº¡i quÃ¡n / giao táº­n nÆ¡i        | Hiá»ƒn thá»‹ Ã´ nháº­p Ä‘á»‹a chá»‰ náº¿u giao           |
| 4    | Chá»n phÆ°Æ¡ng thá»©c thanh toÃ¡n (COD / CK / VÃ­ Ä‘iá»‡n tá»­) | LÆ°u lá»±a chá»n                               |
| 5    | XÃ¡c nháº­n Ä‘áº·t hÃ ng                                   | Há»‡ thá»‘ng táº¡o `HoaDon`, `ChiTietHoaDon`     |
| 6    | Chuyá»ƒn Ä‘Æ¡n Ä‘áº¿n pha cháº¿                              | Cáº­p nháº­t tráº¡ng thÃ¡i `Äang pha cháº¿`         |
| 7    | MÃ³n hoÃ n táº¥t â†’ giao hÃ ng hoáº·c phá»¥c vá»¥               | Tráº¡ng thÃ¡i `HoÃ n táº¥t`                      |
---
#### 6ï¸âƒ£ CÃ¡c luá»“ng phá»¥
* **Luá»“ng lá»—i 1:** MÃ³n háº¿t â†’ hiá»ƒn thá»‹ thÃ´ng bÃ¡o.
* **Luá»“ng lá»—i 2:** Giao hÃ ng tháº¥t báº¡i â†’ cáº­p nháº­t tráº¡ng thÃ¡i â€œÄÃ£ há»§yâ€.
* **Luá»“ng lá»—i 3:** Thanh toÃ¡n lá»—i â†’ xÃ³a hÃ³a Ä‘Æ¡n.
---
#### 7ï¸âƒ£ Dá»¯ liá»‡u chÃ­nh
| Báº£ng              | MÃ´ táº£                      |
| ----------------- | -------------------------- |
| `HoaDon`          | LÆ°u thÃ´ng tin hÃ³a Ä‘Æ¡n mÃ³n  |
| `ChiTietHoaDon`   | MÃ³n, sá»‘ lÆ°á»£ng, Ä‘Æ¡n giÃ¡     |
| `ThanhToanHoaDon` | Giao dá»‹ch thanh toÃ¡n       |
| `SanPham`         | Danh má»¥c thá»©c uá»‘ng / Ä‘á»“ Äƒn |
--
#### 8ï¸âƒ£ Tráº¡ng thÃ¡i hÃ³a Ä‘Æ¡n
| Tráº¡ng thÃ¡i   | MÃ´ táº£                   |
| ------------ | ----------------------- |
| Chá» xÃ¡c nháº­n | Má»›i Ä‘áº·t                 |
| Äang pha cháº¿ | NhÃ¢n viÃªn Ä‘ang chuáº©n bá»‹ |
| Äang giao    | Giao táº­n nÆ¡i            |
| HoÃ n táº¥t     | ÄÃ£ giao / phá»¥c vá»¥ xong  |
| ÄÃ£ há»§y       | ÄÆ¡n bá»‹ há»§y              |
---
### ğŸ’° **CHá»¨C NÄ‚NG FS-03: THANH TOÃN**
#### Má»¥c tiÃªu:
Cung cáº¥p cÃ¡c phÆ°Æ¡ng thá»©c thanh toÃ¡n linh hoáº¡t cho cáº£ thuÃª sÃ¡ch vÃ  gá»i mÃ³n.
| PhÆ°Æ¡ng thá»©c      | MÃ´ táº£                                       | Ãp dá»¥ng            |
| ---------------- | ------------------------------------------- | ------------------ |
| **COD**          | Thanh toÃ¡n khi nháº­n hÃ ng                    | ThuÃª sÃ¡ch, Ä‘áº·t mÃ³n |
| **Chuyá»ƒn khoáº£n** | Chuyá»ƒn qua tÃ i khoáº£n ngÃ¢n hÃ ng              | ThuÃª sÃ¡ch, Ä‘áº·t mÃ³n |
| **VÃ­ Ä‘iá»‡n tá»­**   | Thanh toÃ¡n online (Momo, ZaloPay, VNPay...) | ThuÃª sÃ¡ch, Ä‘áº·t mÃ³n |
---
### ğŸ“‹ **CHá»¨C NÄ‚NG FS-04: THEO DÃ•I & Xá»¬ LÃ ÄÆ N HÃ€NG**
#### Má»¥c tiÃªu:
* GiÃºp khÃ¡ch hÃ ng xem tráº¡ng thÃ¡i Ä‘Æ¡n thuÃª hoáº·c Ä‘áº·t mÃ³n.
* GiÃºp nhÃ¢n viÃªn cáº­p nháº­t tiáº¿n trÃ¬nh xá»­ lÃ½.
#### Actor:
* **KhÃ¡ch hÃ ng:** xem lá»‹ch sá»­ Ä‘Æ¡n.
* **NhÃ¢n viÃªn:** xÃ¡c nháº­n, cáº­p nháº­t, há»§y, hoÃ n tiá»n.
#### Chá»©c nÄƒng chi tiáº¿t:
| MÃ£    | HÃ nh Ä‘á»™ng           | MÃ´ táº£                                    |
| ----- | ------------------- | ---------------------------------------- |
| F04.1 | Xem lá»‹ch sá»­ thuÃª    | Hiá»ƒn thá»‹ danh sÃ¡ch phiáº¿u thuÃª theo khÃ¡ch |
| F04.2 | Xem lá»‹ch sá»­ hÃ³a Ä‘Æ¡n | Hiá»ƒn thá»‹ danh sÃ¡ch hÃ³a Ä‘Æ¡n mÃ³n           |
| F04.3 | Há»§y Ä‘Æ¡n hÃ ng        | Cho phÃ©p há»§y náº¿u chÆ°a xá»­ lÃ½              |
| F04.4 | Cáº­p nháº­t tráº¡ng thÃ¡i | NhÃ¢n viÃªn cáº­p nháº­t tiáº¿n Ä‘á»™ Ä‘Æ¡n           |
---
## ğŸ§± 4. MÃ´ hÃ¬nh dá»¯ liá»‡u liÃªn quan
| Loáº¡i dá»¯ liá»‡u        | Báº£ng chÃ­nh                             | MÃ´ táº£                        |
| ------------------- | -------------------------------------- | ---------------------------- |
| **SÃ¡ch**            | `Sach`                                 | ThÃ´ng tin sÃ¡ch, sá»‘ lÆ°á»£ng tá»“n |
| **Phiáº¿u thuÃª**      | `PhieuThueSach`, `ChiTietPhieuThue`    | Ghi nháº­n thuÃª sÃ¡ch           |
| **MÃ³n / thá»©c uá»‘ng** | `SanPham`                              | Danh sÃ¡ch sáº£n pháº©m           |
| **HÃ³a Ä‘Æ¡n**         | `HoaDon`, `ChiTietHoaDon`              | Ghi nháº­n gá»i mÃ³n             |
| **KhÃ¡ch hÃ ng**      | `KhachHang`                            | ThÃ´ng tin ngÆ°á»i dÃ¹ng         |
| **Thanh toÃ¡n**      | `ThanhToanThueSach`, `ThanhToanHoaDon` | Quáº£n lÃ½ giao dá»‹ch tiá»n       |
---
## âœ… 5. Káº¿t luáº­n
* â€œThuÃª sÃ¡châ€ vÃ  â€œGá»i mÃ³nâ€ **lÃ  hai module Ä‘á»™c láº­p**.
* Cáº£ hai **chia sáº» chung há»‡ thá»‘ng Ä‘Äƒng nháº­p, khÃ¡ch hÃ ng, nhÃ¢n viÃªn, vÃ  thanh toÃ¡n.**
* KhÃ´ng cáº§n thÃªm báº£ng â€œgá»™pâ€, chá»‰ cáº§n **truy váº¥n chung theo `idKhachHang` hoáº·c dÃ¹ng VIEW** khi thá»‘ng kÃª.
* Cáº¥u trÃºc hiá»‡n táº¡i **Ä‘á»§ máº¡nh Ä‘á»ƒ má»Ÿ rá»™ng**, vÃ­ dá»¥:
  * ThÃªm â€œÄáº·t bÃ nâ€ (liÃªn káº¿t vá»›i HÃ³a Ä‘Æ¡n).
  * ThÃªm â€œMua sÃ¡châ€ (liÃªn káº¿t vá»›i Phiáº¿u thuÃª).
//////////////////
+ nÃ¢ng cáº¥p chá»©c nÄƒng giá» hÃ ng Ä‘á»ƒ Ä‘áº·t mÃ³n/ sÃ¡ch online(giá» hÃ ng lÆ°u táº¡m thá»i sesion),(Chá»©c nÄƒng thanh toÃ¡n online qua vÃ­ Ä‘iá»‡n tá»­, chuyá»ƒn khoáº£n ngÃ¢n hÃ ng, COD (phÃ¡t triá»ƒn sau))
* file GioHangControllers.cs, GioHangDto.cs, GioHangView.cshtml.cs, GioHangView.cshtml.
* file ThanhToanControllers.cs, ThanhToanDto.cs, ThanhToanView.cshtml.cs, ThanhToanView.cshtml.
+ NÃ¢ng Cáº¥p chá»©c nÄƒng Theo dÃµi Ä‘Æ¡n hÃ ng trong _Layout_Account.cshtml.
* File DonMuaControllers.cs,  DonMuaDto.cs,  DonMuaView.cshtml,  DonMuaView.cshtml.cs.
* File ChiTietDonMuaControllers.cs,  ChiTietDonMuaDto.cs,  ChiTietDonMuaView.cshtml.cs,  ChiTietDonMuaView.cshtml.
