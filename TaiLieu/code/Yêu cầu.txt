# âš™ï¸ **YÃŠU Cáº¦U PHÃT TRIá»‚N Há»† THá»NG NHÃ‚N Sá»° (HRM MODULE)**

## ğŸ“‚ Dá»± Ã¡n: `AppCafebook`

> Má»¥c tiÃªu: TÃ¡ch toÃ n bá»™ `NhanSuView` thÃ nh cÃ¡c trang riÃªng biá»‡t tÆ°Æ¡ng á»©ng tá»«ng nghiá»‡p vá»¥,
> káº¿t ná»‘i Ä‘á»“ng bá»™ vá»›i CSDL vÃ  há»‡ thá»‘ng phÃ¢n quyá»n.
> âŒ KhÃ´ng dÃ¹ng `Service`, `ViewModel` â€“ xá»­ lÃ½ toÃ n bá»™ logic trong code-behind (.xaml.cs).

---

## ğŸ§© I. **Cáº¥u trÃºc module NhÃ¢n Sá»± sau khi tÃ¡ch**

| STT | Chá»©c nÄƒng                                 | View (Page)                  | API (Controller)         |
| --- | ----------------------------------------- | ---------------------------- | ------------------------ |
| 1   | Quáº£n lÃ½ NhÃ¢n viÃªn                         | `QuanLyNhanVienView.xaml`    | `NhanVienController`     |
| 2   | Quáº£n lÃ½ Vai trÃ²                           | `QuanLyVaiTroView.xaml`      | `VaiTroController`       |
| 3   | Quáº£n lÃ½ Quyá»n & PhÃ¢n quyá»n chá»©c nÄƒng      | `QuanLyPhanQuyenView.xaml`   | `PhanQuyenController`    |
| 4   | Quáº£n lÃ½ Ca lÃ m viá»‡c                       | `QuanLyCaLamViecView.xaml`   | `CaLamViecController`    |
| 5   | Quáº£n lÃ½ Lá»‹ch lÃ m viá»‡c                     | `QuanLyLichLamViecView.xaml` | `LichLamViecController`  |
| 6   | Quáº£n lÃ½ ÄÆ¡n xin nghá»‰                      | `QuanLyDonXinNghiView.xaml`  | `DonXinNghiController`   |
| 7   | Quáº£n lÃ½ Quy táº¯c lÆ°Æ¡ng                     | `QuanLyQuyTacLuongView.xaml` | `QuyTacLuongController`  |
| 8   | Quáº£n lÃ½ ThÆ°á»Ÿng/Pháº¡t thá»§ cÃ´ng              | `QuanLyThuongPhatView.xaml`  | `ThuongPhatController`   |
| 9   | Quáº£n lÃ½ Báº£ng cháº¥m cÃ´ng                    | `QuanLyChamCongView.xaml`    | `ChamCongController`     |
| 10  | Quáº£n lÃ½ Phiáº¿u lÆ°Æ¡ng & Há»‡ thá»‘ng tÃ­nh lÆ°Æ¡ng | `QuanLyLuongView.xaml`       | `LuongController`        |
| 11  | Cáº¥u hÃ¬nh NhÃ¢n sá»± & ChÃ­nh sÃ¡ch chung       | `CaiDatNhanSuView.xaml`      | `CaiDatNhanSuController` |

---

## ğŸ§­ II. **MÃ´ táº£ chi tiáº¿t tá»«ng chá»©c nÄƒng**

---

### **1ï¸âƒ£ Quáº£n lÃ½ NhÃ¢n viÃªn**

ğŸ“„ `QuanLyNhanVienView.xaml`
ğŸ“¡ `NhanVienController`

#### ğŸ¯ Má»¥c tiÃªu:

* Quáº£n lÃ½ danh sÃ¡ch nhÃ¢n viÃªn, tráº¡ng thÃ¡i lÃ m viá»‡c, vai trÃ², lÆ°Æ¡ng, máº­t kháº©u.
* Cáº¥p, thu há»“i tÃ i khoáº£n Ä‘Äƒng nháº­p.

#### ğŸ§± Chá»©c nÄƒng:

* ThÃªm / Sá»­a / XÃ³a thÃ´ng tin nhÃ¢n viÃªn.
* Cáº­p nháº­t máº­t kháº©u (Ä‘á»ƒ trá»‘ng náº¿u khÃ´ng Ä‘á»•i).
* GÃ¡n vai trÃ² cho nhÃ¢n viÃªn.
* Chá»n tráº¡ng thÃ¡i lÃ m viá»‡c (Ä‘ang lÃ m / nghá»‰ viá»‡c).
* Cáº­p nháº­t má»©c lÆ°Æ¡ng theo giá».

#### ğŸ”— LiÃªn káº¿t:

* Báº£ng `NhanVien` (FK: VaiTro).
* Gá»i tá»« cÃ¡c chá»©c nÄƒng: `LichLamViec`, `ChamCong`, `Luong`.

---

### **2ï¸âƒ£ Quáº£n lÃ½ Vai trÃ² (Roles)**

ğŸ“„ `QuanLyVaiTroView.xaml`
ğŸ“¡ `VaiTroController`

#### ğŸ¯ Má»¥c tiÃªu:

* Äá»‹nh nghÄ©a vai trÃ² (Admin, Quáº£n lÃ½, NhÃ¢n viÃªn, Thu ngÃ¢n, Barista, v.v.).
* PhÃ¢n quyá»n theo vai trÃ².

#### ğŸ§± Chá»©c nÄƒng:

* ThÃªm / Sá»­a / XÃ³a vai trÃ².
* Hiá»ƒn thá»‹ danh sÃ¡ch vai trÃ² hiá»‡n cÃ³.
* GÃ¡n mÃ´ táº£ vÃ  nhÃ³m chá»©c nÄƒng máº·c Ä‘á»‹nh.

---

### **3ï¸âƒ£ Quáº£n lÃ½ Quyá»n & PhÃ¢n quyá»n chá»©c nÄƒng**

ğŸ“„ `QuanLyPhanQuyenView.xaml`
ğŸ“¡ `PhanQuyenController`

#### ğŸ¯ Má»¥c tiÃªu:

* PhÃ¢n quyá»n chi tiáº¿t cho tá»«ng vai trÃ² hoáº·c nhÃ¢n viÃªn.

#### ğŸ§± Chá»©c nÄƒng:

* Quáº£n lÃ½ danh sÃ¡ch quyá»n (Xem, ThÃªm, Sá»­a, XÃ³a, In, BÃ¡o cÃ¡o).
* GÃ¡n quyá»n cho tá»«ng vai trÃ².
* Cho phÃ©p gÃ¡n ngoáº¡i lá»‡ (quyá»n riÃªng cho 1 nhÃ¢n viÃªn cá»¥ thá»ƒ).
* Xuáº¥t / nháº­p danh sÃ¡ch quyá»n tá»« file JSON.

#### ğŸ”— LiÃªn káº¿t:

* `VaiTro` â†” `PhanQuyen`
* `NhanVien` â†” `VaiTro` â†” `ChucNang`

---

### **4ï¸âƒ£ Quáº£n lÃ½ Ca lÃ m viá»‡c**

ğŸ“„ `QuanLyCaLamViecView.xaml`
ğŸ“¡ `CaLamViecController`

#### ğŸ¯ Má»¥c tiÃªu:

* Äá»‹nh nghÄ©a cÃ¡c ca lÃ m máº«u trong ngÃ y.

#### ğŸ§± Chá»©c nÄƒng:

* ThÃªm / Sá»­a / XÃ³a ca lÃ m viá»‡c (VD: Ca sÃ¡ng 7:00â€“15:00).
* GÃ¡n mÃ´ táº£, ghi chÃº.
* TÃ­ch há»£p vÃ o lá»‹ch lÃ m viá»‡c tá»± Ä‘á»™ng.

#### ğŸ”— LiÃªn káº¿t:

* `CaLamViec` â†” `LichLamViec`

---

### **5ï¸âƒ£ Quáº£n lÃ½ Lá»‹ch lÃ m viá»‡c**

ğŸ“„ `QuanLyLichLamViecView.xaml`
ğŸ“¡ `LichLamViecController`

#### ğŸ¯ Má»¥c tiÃªu:

* Quáº£n lÃ½ lá»‹ch lÃ m viá»‡c hÃ ng ngÃ y cá»§a nhÃ¢n viÃªn.

#### ğŸ§± Chá»©c nÄƒng:

* Hiá»ƒn thá»‹ lá»‹ch theo ngÃ y, tuáº§n, thÃ¡ng.
* ThÃªm/Sá»­a ca lÃ m viá»‡c cho tá»«ng nhÃ¢n viÃªn.
* Chá»n tá»« ca máº«u hoáº·c nháº­p tay.
* Ghi nháº­n tráº¡ng thÃ¡i: Äi lÃ m / Nghá»‰ cÃ³ phÃ©p / Nghá»‰ khÃ´ng phÃ©p.
* Xuáº¥t lá»‹ch lÃ m viá»‡c (Excel, PDF).

#### ğŸ”— LiÃªn káº¿t:

* `NhanVien`, `CaLamViec`, `DonXinNghi`.

---

### **6ï¸âƒ£ Quáº£n lÃ½ ÄÆ¡n xin nghá»‰**

ğŸ“„ `QuanLyDonXinNghiView.xaml`
ğŸ“¡ `DonXinNghiController`

#### ğŸ¯ Má»¥c tiÃªu:

* Quáº£n lÃ½ Ä‘Æ¡n nghá»‰ phÃ©p cá»§a nhÃ¢n viÃªn.

#### ğŸ§± Chá»©c nÄƒng:

* NhÃ¢n viÃªn gá»­i Ä‘Æ¡n xin nghá»‰ (chá»n ngÃ y, lÃ½ do).
* Quáº£n lÃ½ duyá»‡t Ä‘Æ¡n (duyá»‡t / tá»« chá»‘i / Ä‘ang chá»).
* LÆ°u lÃ½ do vÃ  ngÆ°á»i duyá»‡t.
* Tá»± Ä‘á»™ng Ä‘Ã¡nh dáº¥u lá»‹ch lÃ m viá»‡c thÃ nh â€œnghá»‰ cÃ³ phÃ©pâ€.

#### ğŸ”— LiÃªn káº¿t:

* `NhanVien` â†” `DonXinNghi` â†” `LichLamViec`.

---

### **7ï¸âƒ£ Quáº£n lÃ½ Quy táº¯c lÆ°Æ¡ng**

ğŸ“„ `QuanLyQuyTacLuongView.xaml`
ğŸ“¡ `QuyTacLuongController`

#### ğŸ¯ Má»¥c tiÃªu:

* XÃ¡c Ä‘á»‹nh cÃ´ng thá»©c tÃ­nh thÆ°á»Ÿng/pháº¡t.

#### ğŸ§± Chá»©c nÄƒng:

* Quáº£n lÃ½ cÃ¡c quy táº¯c: Cá»‘ Ä‘á»‹nh, Ä‘i trá»…, tÄƒng ca, theo giá».
* Nháº­p Ä‘iá»u kiá»‡n vÃ  giÃ¡ trá»‹ Ã¡p dá»¥ng.
* PhÃ¢n loáº¡i: ThÆ°á»Ÿng / Pháº¡t / Há»‡ sá»‘ nhÃ¢n.
* Ãp dá»¥ng cho `ChamCong` vÃ  `Luong`.

---

### **8ï¸âƒ£ Quáº£n lÃ½ ThÆ°á»Ÿng â€“ Pháº¡t thá»§ cÃ´ng**

ğŸ“„ `QuanLyThuongPhatView.xaml`
ğŸ“¡ `ThuongPhatController`

#### ğŸ¯ Má»¥c tiÃªu:

* ThÃªm khoáº£n thÆ°á»Ÿng/pháº¡t riÃªng cho tá»«ng nhÃ¢n viÃªn trong ká»³.

#### ğŸ§± Chá»©c nÄƒng:

* ThÃªm, sá»­a, xÃ³a cÃ¡c khoáº£n thá»§ cÃ´ng.
* Ghi chÃº lÃ½ do vÃ  giÃ¡ trá»‹.
* Tá»± Ä‘á»™ng cá»™ng/trá»« vÃ o lÆ°Æ¡ng ká»³ Ä‘Ã³.

---

### **9ï¸âƒ£ Quáº£n lÃ½ Cháº¥m cÃ´ng**

ğŸ“„ `QuanLyChamCongView.xaml`
ğŸ“¡ `ChamCongController`

#### ğŸ¯ Má»¥c tiÃªu:

* Ghi nháº­n giá» vÃ o/ra, tÃ­nh sá»‘ giá» lÃ m viá»‡c.

#### ğŸ§± Chá»©c nÄƒng:

* Tá»± Ä‘á»™ng tÃ­nh tá»•ng giá» lÃ m (GioRa â€“ GioVao).
* Xem lá»‹ch sá»­ cháº¥m cÃ´ng theo ngÃ y/thÃ¡ng.
* Há»— trá»£ nháº­p thá»§ cÃ´ng hoáº·c tá»« mÃ¡y cháº¥m cÃ´ng.
* Káº¿t ná»‘i trá»±c tiáº¿p vá»›i `LuongController`.

---

### **ğŸ”Ÿ Quáº£n lÃ½ Phiáº¿u LÆ°Æ¡ng & Há»‡ thá»‘ng tÃ­nh lÆ°Æ¡ng**

ğŸ“„ `QuanLyLuongView.xaml`
ğŸ“¡ `LuongController`

#### ğŸ¯ Má»¥c tiÃªu:

* TÃ­nh lÆ°Æ¡ng tá»± Ä‘á»™ng dá»±a vÃ o cháº¥m cÃ´ng, quy táº¯c lÆ°Æ¡ng, thÆ°á»Ÿng/pháº¡t.

#### ğŸ§± Chá»©c nÄƒng:

* TÃ­nh lÆ°Æ¡ng theo ká»³ (tá»« ngÃ y â€“ Ä‘áº¿n ngÃ y).
* Hiá»ƒn thá»‹ tá»•ng giá», lÆ°Æ¡ng theo giá», thÆ°á»Ÿng, pháº¡t, thá»±c lÃ£nh.
* Cho phÃ©p in phiáº¿u lÆ°Æ¡ng / lÆ°u lá»‹ch sá»­ phiáº¿u lÆ°Æ¡ng.
* LÆ°u vÃ o báº£ng `PhieuLuong`.

---

### **11ï¸âƒ£ Cáº¥u hÃ¬nh NhÃ¢n sá»± & ChÃ­nh sÃ¡ch**

ğŸ“„ `CaiDatNhanSuView.xaml`
ğŸ“¡ `CaiDatNhanSuController`

#### ğŸ¯ Má»¥c tiÃªu:

* Quáº£n lÃ½ cÃ¡c chÃ­nh sÃ¡ch nhÃ¢n sá»± chung.

#### ğŸ§± Chá»©c nÄƒng:

* Thiáº¿t láº­p sá»‘ ngÃ y phÃ©p/nÄƒm.
* Thiáº¿t láº­p má»©c pháº¡t Ä‘i trá»… máº·c Ä‘á»‹nh.
* Cáº¥u hÃ¬nh thá»i gian chá»‘t lÆ°Æ¡ng hÃ ng thÃ¡ng.
* Cho phÃ©p Ä‘áº·t giá» lÃ m tiÃªu chuáº©n/ngÃ y.

---

## ğŸ§® III. **Gá»£i Ã½ chá»©c nÄƒng má»Ÿ rá»™ng thÃªm**

| Má»Ÿ rá»™ng                                              | MÃ´ táº£                                                                |
| ---------------------------------------------------- | -------------------------------------------------------------------- |
| **Quáº£n lÃ½ Há»“ sÆ¡ nhÃ¢n viÃªn (HoSoNhanVienView)**       | Quáº£n lÃ½ há»“ sÆ¡, CMND/CCCD, há»£p Ä‘á»“ng, ngÃ y báº¯t Ä‘áº§u, lÆ°u file scan.     |
| **Quáº£n lÃ½ ÄÃ o táº¡o (DaoTaoView)**                     | Quáº£n lÃ½ khÃ³a Ä‘Ã o táº¡o, nhÃ¢n viÃªn tham gia, chá»©ng chá»‰ Ä‘áº¡t Ä‘Æ°á»£c.        |
| **Thá»‘ng kÃª hiá»‡u suáº¥t (ThongKeNhanSuView)**           | BÃ¡o cÃ¡o tá»•ng há»£p hiá»‡u suáº¥t lÃ m viá»‡c, sá»‘ giá», nghá»‰ phÃ©p, thÆ°á»Ÿng/pháº¡t. |
| **Káº¿t ná»‘i cháº¥m cÃ´ng vÃ¢n tay / QR**                   | Äá»c dá»¯ liá»‡u tá»« mÃ¡y cháº¥m cÃ´ng hoáº·c app di Ä‘á»™ng.                       |
| **Giao diá»‡n Duyá»‡t Ä‘Æ¡n nghá»‰ nhanh (Manager Approve)** | Má»Ÿ modal hoáº·c popup duyá»‡t nhanh trong dashboard.                     |

---

## âš™ï¸ IV. **Quy Ä‘á»‹nh phÃ¡t triá»ƒn chung**

* Má»—i Page cÃ³ **DataGrid + Panel nháº­p liá»‡u**.
* Dá»¯ liá»‡u gá»i qua `HttpClient` trá»±c tiáº¿p (GET/POST/PUT/DELETE).
* Má»—i Controller thá»±c hiá»‡n CRUD tÆ°Æ¡ng á»©ng.
* KhÃ´ng dÃ¹ng `MVVM` â€“ xá»­ lÃ½ trong `.xaml.cs`.
* Tá»± Ä‘á»™ng reload danh sÃ¡ch sau má»—i hÃ nh Ä‘á»™ng.
* UI giá»¯ phong cÃ¡ch hiá»‡n táº¡i (`WPF Material`, tÃ´ng nÃ¢u-cÃ -phÃª, icon vector).

---
